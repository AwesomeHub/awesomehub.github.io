{"version":3,"sources":["./node_modules/.pnpm/material-design-lite@1.3.0/node_modules/material-design-lite/src/layout/layout.js","./node_modules/.pnpm/material-design-lite@1.3.0/node_modules/material-design-lite/src/mdlComponentHandler.js","./node_modules/.pnpm/material-design-lite@1.3.0/node_modules/material-design-lite/src/menu/menu.js","./node_modules/.pnpm/material-design-lite@1.3.0/node_modules/material-design-lite/src/progress/progress.js","./node_modules/.pnpm/material-design-lite@1.3.0/node_modules/material-design-lite/src/spinner/spinner.js","./node_modules/.pnpm/zone.js@0.11.4/node_modules/zone.js/fesm2015/zone.js"],"names":["MaterialLayout","element","this","element_","init","MaterialLayoutTab","tab","tabs","panels","layout","selectTab","href","split","panel","content_","querySelector","resetTabState_","resetPanelState_","classList","add","CssClasses_","IS_ACTIVE","tabBar_","contains","JS_RIPPLE_EFFECT","rippleContainer","document","createElement","RIPPLE_CONTAINER","ripple","RIPPLE","appendChild","TAB_MANUAL_SWITCH","addEventListener","e","getAttribute","charAt","preventDefault","show","window","prototype","Constant_","MAX_WIDTH","TAB_SCROLL_PIXELS","RESIZE_TIMEOUT","MENU_ICON","CHEVRON_LEFT","CHEVRON_RIGHT","Keycodes_","ENTER","ESCAPE","SPACE","Mode_","STANDARD","SEAMED","WATERFALL","SCROLL","CONTAINER","HEADER","DRAWER","CONTENT","DRAWER_BTN","ICON","RIPPLE_IGNORE_EVENTS","HEADER_SEAMED","HEADER_WATERFALL","HEADER_SCROLL","FIXED_HEADER","OBFUSCATOR","TAB_BAR","TAB_CONTAINER","TAB","TAB_BAR_BUTTON","TAB_BAR_LEFT_BUTTON","TAB_BAR_RIGHT_BUTTON","PANEL","HAS_DRAWER","HAS_TABS","HAS_SCROLLING_HEADER","CASTING_SHADOW","IS_COMPACT","IS_SMALL_SCREEN","IS_DRAWER_OPEN","IS_UPGRADED","IS_ANIMATING","ON_LARGE_SCREEN","ON_SMALL_SCREEN","contentScrollHandler_","header_","headerVisible","scrollTop","remove","keyboardEventHandler_","evt","keyCode","drawer_","toggleDrawer","screenSizeHandler_","screenSizeMediaQuery_","matches","obfuscator_","drawerToggleHandler_","type","headerTransitionEndHandler_","headerClickHandler_","tabBar","k","length","j","drawerButton","toggle","setAttribute","container","focusedElement","parentElement","insertBefore","removeChild","focus","directChildren","childNodes","numChildren","c","child","persisted","style","overflowY","requestAnimationFrame","bind","mode","drawerButtonIcon","innerHTML","firstChild","obfuscator","matchMedia","addListener","tabContainer","leftButton","leftButtonIcon","textContent","scrollLeft","rightButton","rightButtonIcon","tabUpdateHandler","scrollWidth","offsetWidth","windowResizeHandler","resizeTimeoutId_","clearTimeout","setTimeout","querySelectorAll","i","componentHandler","register","constructor","classAsString","cssClass","upgradeDom","optJsClass","optCssClass","upgradeElement","upgradeElements","elements","upgradeAllRegistered","registerUpgradedCallback","jsClass","callback","config","downgradeElements","nodes","registeredComponents_","createdComponents_","componentConfigProperty_","findRegisteredClass_","name","optReplace","className","getUpgradedListOfElement_","dataUpgraded","isElementUpgraded_","indexOf","createEvent_","eventType","bubbles","cancelable","CustomEvent","ev","createEvent","initEvent","upgradeDomInternal","registeredClass","n","upgradeElementInternal","Element","Error","upgradingEv","dispatchEvent","defaultPrevented","upgradedList","classesToUpgrade","push","forEach","component","join","instance","classConstructor","m","callbacks","widget","upgradedEv","deconstructComponentInternal","componentIndex","splice","upgrades","componentPlace","upgradeElementsInternal","Array","isArray","slice","call","HTMLElement","children","regClass","newConfig","item","hasOwnProperty","downgradeNode","node","filter","NodeList","Node","documentElement","MaterialMenu","TRANSITION_DURATION_SECONDS","TRANSITION_DURATION_FRACTION","CLOSE_TIMEOUT","UP_ARROW","DOWN_ARROW","OUTLINE","ITEM","ITEM_RIPPLE_CONTAINER","RIPPLE_EFFECT","IS_VISIBLE","BOTTOM_LEFT","BOTTOM_RIGHT","TOP_LEFT","TOP_RIGHT","UNALIGNED","container_","outline","outline_","forElId","forEl","getElementById","forElement_","handleForClick_","handleForKeyboardEvent_","items","boundItemKeydown_","handleItemKeyboardEvent_","boundItemClick_","handleItemClick_","tabIndex","rect","getBoundingClientRect","forRect","right","top","offsetTop","offsetHeight","left","offsetLeft","bottom","currentIndex","target","MouseEvent","click","hide","hasAttribute","stopPropagation","closing_","applyClip_","height","width","clip","removeAnimationEndListener_","addAnimationEndListener_","transitionDuration","itemDelay","transitionDelay","parentNode","removeEventListener","removeProperty","MaterialProgress","INDETERMINATE_CLASS","setProgress","p","progressbar_","setBuffer","bufferbar_","auxbar_","el","MaterialSpinner","MDL_SPINNER_LAYER_COUNT","MDL_SPINNER_LAYER","MDL_SPINNER_CIRCLE_CLIPPER","MDL_SPINNER_CIRCLE","MDL_SPINNER_GAP_PATCH","MDL_SPINNER_LEFT","MDL_SPINNER_RIGHT","createLayer","index","layer","leftClipper","gapPatch","rightClipper","circleOwners","circle","stop","start","global","performance","mark","performanceMeasure","label","symbolPrefix","__symbol__","checkDuplicate","Zone","parent","zoneSpec","_parent","_name","_properties","properties","_zoneDelegate","ZoneDelegate","patches","zone","current","_currentZoneFrame","_currentTask","fn","ignoreDuplicate","perfName","_api","key","getZoneWith","fork","source","_callback","intercept","runGuarded","arguments","applyThis","applyArgs","invoke","error","handleError","task","NO_ZONE","state","notScheduled","eventTask","macroTask","reEntryGuard","running","_transitionTo","scheduled","runCount","previousTask","data","isPeriodic","cancelFn","undefined","invokeTask","unknown","_updateTaskCount","newZone","scheduling","zoneDelegates","_zoneDelegates","_zone","scheduleTask","err","customSchedule","ZoneTask","microTask","customCancel","canceling","cancelTask","count","DELEGATE_ZS","onHasTask","delegate","_","hasTaskState","hasTask","onScheduleTask","onInvokeTask","onCancelTask","parentDelegate","_taskCounts","_parentDelegate","_forkZS","onFork","_forkDlgt","_forkCurrZone","_interceptZS","onIntercept","_interceptDlgt","_interceptCurrZone","_invokeZS","onInvoke","_invokeDlgt","_invokeCurrZone","_handleErrorZS","onHandleError","_handleErrorDlgt","_handleErrorCurrZone","_scheduleTaskZS","_scheduleTaskDlgt","_scheduleTaskCurrZone","_invokeTaskZS","_invokeTaskDlgt","_invokeTaskCurrZone","_cancelTaskZS","_cancelTaskDlgt","_cancelTaskCurrZone","_hasTaskZS","_hasTaskDlgt","_hasTaskDlgtOwner","_hasTaskCurrZone","zoneSpecHasTask","targetZone","apply","returnTask","scheduleFn","scheduleMicroTask","value","isEmpty","counts","prev","next","change","options","_state","self","useG","args","_numberOfNestedTaskFrames","runTask","drainMicroTaskQueue","toState","fromState1","fromState2","handleId","toString","Object","symbolSetTimeout","symbolPromise","symbolThen","nativeMicroTaskQueuePromise","_microTaskQueue","_isDrainingMicrotaskQueue","resolve","nativeThen","queue","onUnhandledError","microtaskDrainDone","symbol","currentZoneFrame","noop","showUncaughtError","patchEventTarget","patchOnProperties","patchMethod","bindArguments","patchThen","patchMacroTask","patchEventPrototype","isIEOrEdge","getGlobalObjects","ObjectDefineProperty","ObjectGetOwnPropertyDescriptor","ObjectCreate","ArraySlice","patchClass","wrapWithCurrentZone","filterProperties","attachOriginToPatched","_redefineProperty","patchCallbacks","getOwnPropertyDescriptor","defineProperty","ObjectGetPrototypeOf","getPrototypeOf","create","ADD_EVENT_LISTENER_STR","REMOVE_EVENT_LISTENER_STR","ZONE_SYMBOL_ADD_EVENT_LISTENER","ZONE_SYMBOL_REMOVE_EVENT_LISTENER","TRUE_STR","FALSE_STR","ZONE_SYMBOL_PREFIX","wrap","scheduleMacroTaskWithCurrentZone","scheduleMacroTask","zoneSymbol","isWindowExists","internalWindow","_global","NULL_ON_PROP_VALUE","isPropertyWritable","propertyDesc","writable","get","set","isWebWorker","WorkerGlobalScope","isNode","process","isBrowser","isMix","zoneSymbolEventNames","wrapFn","event","eventNameSymbol","listener","result","errorEvent","message","filename","lineno","colno","patchProperty","obj","prop","desc","enumerable","configurable","onPropPatchedSymbol","originalDescGet","originalDescSet","eventName","substr","newValue","removeAttribute","onProperties","originalInstanceKey","OriginalClass","a","patchFn","proto","delegateName","patchDelegate","funcName","metaCreator","setNative","cbIdx","meta","patched","original","isDetectedIEOrEdge","ieOrEdge","isIE","ua","navigator","userAgent","__load_patch","api","_uncaughtPromiseErrors","isDisableWrappingUncaughtPromiseRejection","rejection","console","stack","uncaughtPromiseError","shift","throwOriginal","handleUnhandledRejection","UNHANDLED_PROMISE_REJECTION_HANDLER_SYMBOL","handler","isThenable","then","forwardResolution","forwardRejection","ZoneAwarePromise","reject","symbolState","symbolValue","symbolFinally","symbolParentPromiseValue","symbolParentPromiseState","UNRESOLVED","RESOLVED","REJECTED","makeResolver","promise","v","resolvePromise","CURRENT_TASK_TRACE_SYMBOL","onceWrapper","wasCalled","wrappedFunction","once","TypeError","clearRejectedNoCatch","trace","currentTask","scheduleResolveOrReject","JSON","stringify","REJECTION_HANDLED_HANDLER","chainPromise","onFulfilled","onRejected","promiseState","parentPromiseValue","isFinallyPromise","run","values","res","rej","onResolve","onReject","allWithCallback","thenCallback","status","errorCallback","reason","unresolvedCount","valueIndex","resolvedValues","curValueIndex","thenErr","executor","Symbol","toStringTag","species","C","onFinally","race","all","NativePromise","symbolThenPatched","Ctor","originalThen","zoneify","resultPromise","ctor","Promise","originalFunctionToString","Function","ORIGINAL_DELEGATE_SYMBOL","PROMISE_SYMBOL","ERROR_SYMBOL","newFunctionToString","originalDelegate","nativePromise","nativeError","originalObjectToString","passiveSupported","OPTIMIZED_ZONE_EVENT_TASK_DATA","zoneSymbolEventNames$1","globalSources","EVENT_NAME_SYMBOL_REGX","RegExp","IMMEDIATE_PROPAGATION_SYMBOL","prepareEventNames","eventNameToString","falseEventName","trueEventName","symbolCapture","apis","patchOptions","ADD_EVENT_LISTENER","REMOVE_EVENT_LISTENER","rm","LISTENERS_EVENT_LISTENER","listeners","REMOVE_ALL_LISTENERS_EVENT_LISTENER","rmAll","zoneSymbolAddEventListener","ADD_EVENT_LISTENER_SOURCE","isRemoved","handleEvent","globalZoneAwareCallback","tasks","copyTasks","globalZoneAwareCaptureCallback","patchEventTargetMethods","useGlobalCallback","validateHandler","vh","chkDup","returnTarget","rt","taskData","nativeAddEventListener","nativeRemoveEventListener","nativeListeners","nativeRemoveAllListeners","nativePrependEventListener","buildEventListenerOptions","passive","capture","assign","prepend","isExisting","symbolEventNames","symbolEventName","existingTasks","allRemoved","compare","diff","typeOfDelegate","unpatchedEvents","passiveEvents","makeAddListener","nativeListener","addSource","customScheduleFn","customCancelFn","transferEventName","isHandleEvent","constructorName","targetSource","scheduleEventTask","unshift","existingTask","findEventTasks","captureTasks","removeTasks","keys","match","exec","evtName","results","foundTasks","captureFalseTasks","captureTrueTasks","concat","Event","targetName","method","nativeDelegate","opts","descriptor","windowEventNames","mediaElementEventNames","frameEventNames","frameSetEventNames","marqueeEventNames","XMLHttpRequestEventNames","IDBIndexEventNames","websocketEventNames","workerEventNames","eventNames","ignoreProperties","tip","ip","targetIgnoreProperties","op","patchFilteredProperties","propertyDescriptorPatch","supportsWebSocket","WebSocket","ignoreErrorProperties","Document","HTMLMediaElement","HTMLFrameSetElement","HTMLBodyElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","SYMBOL_BLACK_LISTED_EVENTS","SYMBOL_UNPATCHED_EVENTS","taskSymbol","patchTimer","setName","cancelName","nameSuffix","clearNative","tasksByHandleId","clearTask","delay","handle","ref","unref","id","eventTargetPatch","EVENT_TARGET","legacyPatch","clear","blockingMethods","s","patchEvent","customElements","patchCustomElements","XMLHttpRequestPrototype","oriAddListener","oriRemoveListener","XMLHttpRequestEventTargetPrototype","READY_STATE_CHANGE","SCHEDULED","XHR_SCHEDULED","XHR_ERROR_BEFORE_SCHEDULED","XHR_LISTENER","newListener","readyState","DONE","aborted","loadTasks","oriInvoke","XHR_TASK","sendNative","placeholderCallback","abortNative","openNative","XHR_SYNC","XHR_URL","fetchTaskAborting","fetchTaskScheduling","url","patchXHR","geolocation","fnNames","patchPrototype","findPromiseRejectionHandler","PromiseRejectionEvent"],"mappings":"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GlEpT,EAAU6H,KACf7H,EAAU6H,GAAYoZ,EAAIlF,oBAAoB/b,EAAU6H,GAAWuL,MAIxE4Y,EAAe9gB,KAAKuD,EAAQpG,EAAM4jB,EAAM7S,IAEnD6H,EAAIhF,sBAAsBxN,EAAOsd,GAASC,GAU9C,MAwGMG,EAAmB,CACrB,4BACA,aACA,aACA,eACA,sBACA,cACA,eACA,cACA,eACA,oBACA,4BACA,kBACA,aACA,iBACA,UACA,iBACA,UACA,SACA,QACA,WACA,WACA,WACA,mBACA,UACA,qBACA,SACA,gBACA,qBACA,wBACA,0BAOEC,EAAyB,CAAC,YAAa,gBAAiB,YAAa,oBAAqB,mBA6D1FC,EAAkB,CAAC,QACnBC,EAAqB,CAAC,OAAQ,QAAS,QAAS,OAAQ,SAAU,SAAU,gBAC5EC,EAAoB,CAAC,SAAU,SAAU,SACzCC,GAA2B,CAC7B,YAAa,WAAY,QAAS,QAAS,OAAQ,WAAY,UAAW,UAC1E,oBAEEC,GAAqB,CAAC,gBAAiB,WAAY,QAAS,UAAW,QAAS,UAAW,gBAAiB,SAC5GC,GAAsB,CAAC,QAAS,QAAS,OAAQ,WACjDC,GAAmB,CAAC,QAAS,WAC7BC,GApNgC,CAClC,QACA,kBACA,eACA,qBACA,WACA,cACA,OACA,SACA,UACA,iBACA,SACA,mBACA,oBACA,iBACA,YACA,QACA,QACA,cACA,aACA,WACA,OACA,UACA,YACA,WACA,YACA,WACA,OACA,iBACA,UACA,QACA,QACA,QACA,UACA,WACA,oBACA,QACA,UACA,UACA,WACA,QACA,OACA,YACA,aACA,iBACA,qBACA,YACA,aACA,aACA,YACA,WACA,YACA,UACA,aACA,oBACA,QACA,OACA,UACA,gBACA,cACA,eACA,eACA,oBACA,uBACA,4BACA,mBACA,sBACA,yBACA,cACA,WACA,cACA,YACA,WACA,aACA,QACA,SACA,SACA,SACA,UACA,SACA,kBACA,cACA,OACA,OACA,UACA,SACA,UACA,aACA,eACA,cACA,YACA,aACA,WACA,mBACA,gBACA,UACA,SAoH6ChB,OAbzB,CAAC,uBAAwB,mBAAoB,6BAC9C,CAA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","file":"polyfills.278037ce53687399ca0e.js","sourcesContent":["/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n(function() {\n  'use strict';\n\n  /**\n   * Class constructor for Layout MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\n  var MaterialLayout = function MaterialLayout(element) {\n    this.element_ = element;\n\n    // Initialize instance.\n    this.init();\n  };\n  window['MaterialLayout'] = MaterialLayout;\n\n  /**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\n  MaterialLayout.prototype.Constant_ = {\n    MAX_WIDTH: '(max-width: 1024px)',\n    TAB_SCROLL_PIXELS: 100,\n    RESIZE_TIMEOUT: 100,\n\n    MENU_ICON: '&#xE5D2;',\n    CHEVRON_LEFT: 'chevron_left',\n    CHEVRON_RIGHT: 'chevron_right'\n  };\n\n  /**\n   * Keycodes, for code readability.\n   *\n   * @enum {number}\n   * @private\n   */\n  MaterialLayout.prototype.Keycodes_ = {\n    ENTER: 13,\n    ESCAPE: 27,\n    SPACE: 32\n  };\n\n  /**\n   * Modes.\n   *\n   * @enum {number}\n   * @private\n   */\n  MaterialLayout.prototype.Mode_ = {\n    STANDARD: 0,\n    SEAMED: 1,\n    WATERFALL: 2,\n    SCROLL: 3\n  };\n\n  /**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\n  MaterialLayout.prototype.CssClasses_ = {\n    CONTAINER: 'mdl-layout__container',\n    HEADER: 'mdl-layout__header',\n    DRAWER: 'mdl-layout__drawer',\n    CONTENT: 'mdl-layout__content',\n    DRAWER_BTN: 'mdl-layout__drawer-button',\n\n    ICON: 'material-icons',\n\n    JS_RIPPLE_EFFECT: 'mdl-js-ripple-effect',\n    RIPPLE_CONTAINER: 'mdl-layout__tab-ripple-container',\n    RIPPLE: 'mdl-ripple',\n    RIPPLE_IGNORE_EVENTS: 'mdl-js-ripple-effect--ignore-events',\n\n    HEADER_SEAMED: 'mdl-layout__header--seamed',\n    HEADER_WATERFALL: 'mdl-layout__header--waterfall',\n    HEADER_SCROLL: 'mdl-layout__header--scroll',\n\n    FIXED_HEADER: 'mdl-layout--fixed-header',\n    OBFUSCATOR: 'mdl-layout__obfuscator',\n\n    TAB_BAR: 'mdl-layout__tab-bar',\n    TAB_CONTAINER: 'mdl-layout__tab-bar-container',\n    TAB: 'mdl-layout__tab',\n    TAB_BAR_BUTTON: 'mdl-layout__tab-bar-button',\n    TAB_BAR_LEFT_BUTTON: 'mdl-layout__tab-bar-left-button',\n    TAB_BAR_RIGHT_BUTTON: 'mdl-layout__tab-bar-right-button',\n    TAB_MANUAL_SWITCH: 'mdl-layout__tab-manual-switch',\n    PANEL: 'mdl-layout__tab-panel',\n\n    HAS_DRAWER: 'has-drawer',\n    HAS_TABS: 'has-tabs',\n    HAS_SCROLLING_HEADER: 'has-scrolling-header',\n    CASTING_SHADOW: 'is-casting-shadow',\n    IS_COMPACT: 'is-compact',\n    IS_SMALL_SCREEN: 'is-small-screen',\n    IS_DRAWER_OPEN: 'is-visible',\n    IS_ACTIVE: 'is-active',\n    IS_UPGRADED: 'is-upgraded',\n    IS_ANIMATING: 'is-animating',\n\n    ON_LARGE_SCREEN: 'mdl-layout--large-screen-only',\n    ON_SMALL_SCREEN: 'mdl-layout--small-screen-only'\n\n  };\n\n  /**\n   * Handles scrolling on the content.\n   *\n   * @private\n   */\n  MaterialLayout.prototype.contentScrollHandler_ = function() {\n    if (this.header_.classList.contains(this.CssClasses_.IS_ANIMATING)) {\n      return;\n    }\n\n    var headerVisible =\n        !this.element_.classList.contains(this.CssClasses_.IS_SMALL_SCREEN) ||\n        this.element_.classList.contains(this.CssClasses_.FIXED_HEADER);\n\n    if (this.content_.scrollTop > 0 &&\n        !this.header_.classList.contains(this.CssClasses_.IS_COMPACT)) {\n      this.header_.classList.add(this.CssClasses_.CASTING_SHADOW);\n      this.header_.classList.add(this.CssClasses_.IS_COMPACT);\n      if (headerVisible) {\n        this.header_.classList.add(this.CssClasses_.IS_ANIMATING);\n      }\n    } else if (this.content_.scrollTop <= 0 &&\n        this.header_.classList.contains(this.CssClasses_.IS_COMPACT)) {\n      this.header_.classList.remove(this.CssClasses_.CASTING_SHADOW);\n      this.header_.classList.remove(this.CssClasses_.IS_COMPACT);\n      if (headerVisible) {\n        this.header_.classList.add(this.CssClasses_.IS_ANIMATING);\n      }\n    }\n  };\n\n  /**\n   * Handles a keyboard event on the drawer.\n   *\n   * @param {Event} evt The event that fired.\n   * @private\n   */\n  MaterialLayout.prototype.keyboardEventHandler_ = function(evt) {\n    // Only react when the drawer is open.\n    if (evt.keyCode === this.Keycodes_.ESCAPE &&\n        this.drawer_.classList.contains(this.CssClasses_.IS_DRAWER_OPEN)) {\n      this.toggleDrawer();\n    }\n  };\n\n  /**\n   * Handles changes in screen size.\n   *\n   * @private\n   */\n  MaterialLayout.prototype.screenSizeHandler_ = function() {\n    if (this.screenSizeMediaQuery_.matches) {\n      this.element_.classList.add(this.CssClasses_.IS_SMALL_SCREEN);\n    } else {\n      this.element_.classList.remove(this.CssClasses_.IS_SMALL_SCREEN);\n      // Collapse drawer (if any) when moving to a large screen size.\n      if (this.drawer_) {\n        this.drawer_.classList.remove(this.CssClasses_.IS_DRAWER_OPEN);\n        this.obfuscator_.classList.remove(this.CssClasses_.IS_DRAWER_OPEN);\n      }\n    }\n  };\n\n  /**\n   * Handles events of drawer button.\n   *\n   * @param {Event} evt The event that fired.\n   * @private\n   */\n  MaterialLayout.prototype.drawerToggleHandler_ = function(evt) {\n    if (evt && (evt.type === 'keydown')) {\n      if (evt.keyCode === this.Keycodes_.SPACE || evt.keyCode === this.Keycodes_.ENTER) {\n        // prevent scrolling in drawer nav\n        evt.preventDefault();\n      } else {\n        // prevent other keys\n        return;\n      }\n    }\n\n    this.toggleDrawer();\n  };\n\n  /**\n   * Handles (un)setting the `is-animating` class\n   *\n   * @private\n   */\n  MaterialLayout.prototype.headerTransitionEndHandler_ = function() {\n    this.header_.classList.remove(this.CssClasses_.IS_ANIMATING);\n  };\n\n  /**\n   * Handles expanding the header on click\n   *\n   * @private\n   */\n  MaterialLayout.prototype.headerClickHandler_ = function() {\n    if (this.header_.classList.contains(this.CssClasses_.IS_COMPACT)) {\n      this.header_.classList.remove(this.CssClasses_.IS_COMPACT);\n      this.header_.classList.add(this.CssClasses_.IS_ANIMATING);\n    }\n  };\n\n  /**\n   * Reset tab state, dropping active classes\n   *\n   * @private\n   */\n  MaterialLayout.prototype.resetTabState_ = function(tabBar) {\n    for (var k = 0; k < tabBar.length; k++) {\n      tabBar[k].classList.remove(this.CssClasses_.IS_ACTIVE);\n    }\n  };\n\n  /**\n   * Reset panel state, droping active classes\n   *\n   * @private\n   */\n  MaterialLayout.prototype.resetPanelState_ = function(panels) {\n    for (var j = 0; j < panels.length; j++) {\n      panels[j].classList.remove(this.CssClasses_.IS_ACTIVE);\n    }\n  };\n\n  /**\n  * Toggle drawer state\n  *\n  * @public\n  */\n  MaterialLayout.prototype.toggleDrawer = function() {\n    var drawerButton = this.element_.querySelector('.' + this.CssClasses_.DRAWER_BTN);\n    this.drawer_.classList.toggle(this.CssClasses_.IS_DRAWER_OPEN);\n    this.obfuscator_.classList.toggle(this.CssClasses_.IS_DRAWER_OPEN);\n\n    // Set accessibility properties.\n    if (this.drawer_.classList.contains(this.CssClasses_.IS_DRAWER_OPEN)) {\n      this.drawer_.setAttribute('aria-hidden', 'false');\n      drawerButton.setAttribute('aria-expanded', 'true');\n    } else {\n      this.drawer_.setAttribute('aria-hidden', 'true');\n      drawerButton.setAttribute('aria-expanded', 'false');\n    }\n  };\n  MaterialLayout.prototype['toggleDrawer'] =\n      MaterialLayout.prototype.toggleDrawer;\n\n  /**\n   * Initialize element.\n   */\n  MaterialLayout.prototype.init = function() {\n    if (this.element_) {\n      var container = document.createElement('div');\n      container.classList.add(this.CssClasses_.CONTAINER);\n\n      var focusedElement = this.element_.querySelector(':focus');\n\n      this.element_.parentElement.insertBefore(container, this.element_);\n      this.element_.parentElement.removeChild(this.element_);\n      container.appendChild(this.element_);\n\n      if (focusedElement) {\n        focusedElement.focus();\n      }\n\n      var directChildren = this.element_.childNodes;\n      var numChildren = directChildren.length;\n      for (var c = 0; c < numChildren; c++) {\n        var child = directChildren[c];\n        if (child.classList &&\n            child.classList.contains(this.CssClasses_.HEADER)) {\n          this.header_ = child;\n        }\n\n        if (child.classList &&\n            child.classList.contains(this.CssClasses_.DRAWER)) {\n          this.drawer_ = child;\n        }\n\n        if (child.classList &&\n            child.classList.contains(this.CssClasses_.CONTENT)) {\n          this.content_ = child;\n        }\n      }\n\n      window.addEventListener('pageshow', function(e) {\n        if (e.persisted) { // when page is loaded from back/forward cache\n          // trigger repaint to let layout scroll in safari\n          this.element_.style.overflowY = 'hidden';\n          requestAnimationFrame(function() {\n            this.element_.style.overflowY = '';\n          }.bind(this));\n        }\n      }.bind(this), false);\n\n      if (this.header_) {\n        this.tabBar_ = this.header_.querySelector('.' + this.CssClasses_.TAB_BAR);\n      }\n\n      var mode = this.Mode_.STANDARD;\n\n      if (this.header_) {\n        if (this.header_.classList.contains(this.CssClasses_.HEADER_SEAMED)) {\n          mode = this.Mode_.SEAMED;\n        } else if (this.header_.classList.contains(\n            this.CssClasses_.HEADER_WATERFALL)) {\n          mode = this.Mode_.WATERFALL;\n          this.header_.addEventListener('transitionend',\n            this.headerTransitionEndHandler_.bind(this));\n          this.header_.addEventListener('click',\n            this.headerClickHandler_.bind(this));\n        } else if (this.header_.classList.contains(\n            this.CssClasses_.HEADER_SCROLL)) {\n          mode = this.Mode_.SCROLL;\n          container.classList.add(this.CssClasses_.HAS_SCROLLING_HEADER);\n        }\n\n        if (mode === this.Mode_.STANDARD) {\n          this.header_.classList.add(this.CssClasses_.CASTING_SHADOW);\n          if (this.tabBar_) {\n            this.tabBar_.classList.add(this.CssClasses_.CASTING_SHADOW);\n          }\n        } else if (mode === this.Mode_.SEAMED || mode === this.Mode_.SCROLL) {\n          this.header_.classList.remove(this.CssClasses_.CASTING_SHADOW);\n          if (this.tabBar_) {\n            this.tabBar_.classList.remove(this.CssClasses_.CASTING_SHADOW);\n          }\n        } else if (mode === this.Mode_.WATERFALL) {\n          // Add and remove shadows depending on scroll position.\n          // Also add/remove auxiliary class for styling of the compact version of\n          // the header.\n          this.content_.addEventListener('scroll',\n              this.contentScrollHandler_.bind(this));\n          this.contentScrollHandler_();\n        }\n      }\n\n      // Add drawer toggling button to our layout, if we have an openable drawer.\n      if (this.drawer_) {\n        var drawerButton = this.element_.querySelector('.' +\n          this.CssClasses_.DRAWER_BTN);\n        if (!drawerButton) {\n          drawerButton = document.createElement('div');\n          drawerButton.setAttribute('aria-expanded', 'false');\n          drawerButton.setAttribute('role', 'button');\n          drawerButton.setAttribute('tabindex', '0');\n          drawerButton.classList.add(this.CssClasses_.DRAWER_BTN);\n\n          var drawerButtonIcon = document.createElement('i');\n          drawerButtonIcon.classList.add(this.CssClasses_.ICON);\n          drawerButtonIcon.innerHTML = this.Constant_.MENU_ICON;\n          drawerButton.appendChild(drawerButtonIcon);\n        }\n\n        if (this.drawer_.classList.contains(this.CssClasses_.ON_LARGE_SCREEN)) {\n          //If drawer has ON_LARGE_SCREEN class then add it to the drawer toggle button as well.\n          drawerButton.classList.add(this.CssClasses_.ON_LARGE_SCREEN);\n        } else if (this.drawer_.classList.contains(this.CssClasses_.ON_SMALL_SCREEN)) {\n          //If drawer has ON_SMALL_SCREEN class then add it to the drawer toggle button as well.\n          drawerButton.classList.add(this.CssClasses_.ON_SMALL_SCREEN);\n        }\n\n        drawerButton.addEventListener('click',\n            this.drawerToggleHandler_.bind(this));\n\n        drawerButton.addEventListener('keydown',\n            this.drawerToggleHandler_.bind(this));\n\n        // Add a class if the layout has a drawer, for altering the left padding.\n        // Adds the HAS_DRAWER to the elements since this.header_ may or may\n        // not be present.\n        this.element_.classList.add(this.CssClasses_.HAS_DRAWER);\n\n        // If we have a fixed header, add the button to the header rather than\n        // the layout.\n        if (this.element_.classList.contains(this.CssClasses_.FIXED_HEADER)) {\n          this.header_.insertBefore(drawerButton, this.header_.firstChild);\n        } else {\n          this.element_.insertBefore(drawerButton, this.content_);\n        }\n\n        var obfuscator = document.createElement('div');\n        obfuscator.classList.add(this.CssClasses_.OBFUSCATOR);\n        this.element_.appendChild(obfuscator);\n        obfuscator.addEventListener('click',\n            this.drawerToggleHandler_.bind(this));\n        this.obfuscator_ = obfuscator;\n\n        this.drawer_.addEventListener('keydown', this.keyboardEventHandler_.bind(this));\n        this.drawer_.setAttribute('aria-hidden', 'true');\n      }\n\n      // Keep an eye on screen size, and add/remove auxiliary class for styling\n      // of small screens.\n      this.screenSizeMediaQuery_ = window.matchMedia(\n          /** @type {string} */ (this.Constant_.MAX_WIDTH));\n      this.screenSizeMediaQuery_.addListener(this.screenSizeHandler_.bind(this));\n      this.screenSizeHandler_();\n\n      // Initialize tabs, if any.\n      if (this.header_ && this.tabBar_) {\n        this.element_.classList.add(this.CssClasses_.HAS_TABS);\n\n        var tabContainer = document.createElement('div');\n        tabContainer.classList.add(this.CssClasses_.TAB_CONTAINER);\n        this.header_.insertBefore(tabContainer, this.tabBar_);\n        this.header_.removeChild(this.tabBar_);\n\n        var leftButton = document.createElement('div');\n        leftButton.classList.add(this.CssClasses_.TAB_BAR_BUTTON);\n        leftButton.classList.add(this.CssClasses_.TAB_BAR_LEFT_BUTTON);\n        var leftButtonIcon = document.createElement('i');\n        leftButtonIcon.classList.add(this.CssClasses_.ICON);\n        leftButtonIcon.textContent = this.Constant_.CHEVRON_LEFT;\n        leftButton.appendChild(leftButtonIcon);\n        leftButton.addEventListener('click', function() {\n          this.tabBar_.scrollLeft -= this.Constant_.TAB_SCROLL_PIXELS;\n        }.bind(this));\n\n        var rightButton = document.createElement('div');\n        rightButton.classList.add(this.CssClasses_.TAB_BAR_BUTTON);\n        rightButton.classList.add(this.CssClasses_.TAB_BAR_RIGHT_BUTTON);\n        var rightButtonIcon = document.createElement('i');\n        rightButtonIcon.classList.add(this.CssClasses_.ICON);\n        rightButtonIcon.textContent = this.Constant_.CHEVRON_RIGHT;\n        rightButton.appendChild(rightButtonIcon);\n        rightButton.addEventListener('click', function() {\n          this.tabBar_.scrollLeft += this.Constant_.TAB_SCROLL_PIXELS;\n        }.bind(this));\n\n        tabContainer.appendChild(leftButton);\n        tabContainer.appendChild(this.tabBar_);\n        tabContainer.appendChild(rightButton);\n\n        // Add and remove tab buttons depending on scroll position and total\n        // window size.\n        var tabUpdateHandler = function() {\n          if (this.tabBar_.scrollLeft > 0) {\n            leftButton.classList.add(this.CssClasses_.IS_ACTIVE);\n          } else {\n            leftButton.classList.remove(this.CssClasses_.IS_ACTIVE);\n          }\n\n          if (this.tabBar_.scrollLeft <\n              this.tabBar_.scrollWidth - this.tabBar_.offsetWidth) {\n            rightButton.classList.add(this.CssClasses_.IS_ACTIVE);\n          } else {\n            rightButton.classList.remove(this.CssClasses_.IS_ACTIVE);\n          }\n        }.bind(this);\n\n        this.tabBar_.addEventListener('scroll', tabUpdateHandler);\n        tabUpdateHandler();\n\n        // Update tabs when the window resizes.\n        var windowResizeHandler = function() {\n          // Use timeouts to make sure it doesn't happen too often.\n          if (this.resizeTimeoutId_) {\n            clearTimeout(this.resizeTimeoutId_);\n          }\n          this.resizeTimeoutId_ = setTimeout(function() {\n            tabUpdateHandler();\n            this.resizeTimeoutId_ = null;\n          }.bind(this), /** @type {number} */ (this.Constant_.RESIZE_TIMEOUT));\n        }.bind(this);\n\n        window.addEventListener('resize', windowResizeHandler);\n\n        if (this.tabBar_.classList.contains(this.CssClasses_.JS_RIPPLE_EFFECT)) {\n          this.tabBar_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS);\n        }\n\n        // Select element tabs, document panels\n        var tabs = this.tabBar_.querySelectorAll('.' + this.CssClasses_.TAB);\n        var panels = this.content_.querySelectorAll('.' + this.CssClasses_.PANEL);\n\n        // Create new tabs for each tab element\n        for (var i = 0; i < tabs.length; i++) {\n          new MaterialLayoutTab(tabs[i], tabs, panels, this);\n        }\n      }\n\n      this.element_.classList.add(this.CssClasses_.IS_UPGRADED);\n    }\n  };\n\n  /**\n   * Constructor for an individual tab.\n   *\n   * @constructor\n   * @param {HTMLElement} tab The HTML element for the tab.\n   * @param {!Array<HTMLElement>} tabs Array with HTML elements for all tabs.\n   * @param {!Array<HTMLElement>} panels Array with HTML elements for all panels.\n   * @param {MaterialLayout} layout The MaterialLayout object that owns the tab.\n   */\n  function MaterialLayoutTab(tab, tabs, panels, layout) {\n\n    /**\n     * Auxiliary method to programmatically select a tab in the UI.\n     */\n    function selectTab() {\n      var href = tab.href.split('#')[1];\n      var panel = layout.content_.querySelector('#' + href);\n      layout.resetTabState_(tabs);\n      layout.resetPanelState_(panels);\n      tab.classList.add(layout.CssClasses_.IS_ACTIVE);\n      panel.classList.add(layout.CssClasses_.IS_ACTIVE);\n    }\n\n    if (layout.tabBar_.classList.contains(\n        layout.CssClasses_.JS_RIPPLE_EFFECT)) {\n      var rippleContainer = document.createElement('span');\n      rippleContainer.classList.add(layout.CssClasses_.RIPPLE_CONTAINER);\n      rippleContainer.classList.add(layout.CssClasses_.JS_RIPPLE_EFFECT);\n      var ripple = document.createElement('span');\n      ripple.classList.add(layout.CssClasses_.RIPPLE);\n      rippleContainer.appendChild(ripple);\n      tab.appendChild(rippleContainer);\n    }\n\n    if (!layout.tabBar_.classList.contains(\n      layout.CssClasses_.TAB_MANUAL_SWITCH)) {\n      tab.addEventListener('click', function(e) {\n        if (tab.getAttribute('href').charAt(0) === '#') {\n          e.preventDefault();\n          selectTab();\n        }\n      });\n    }\n\n    tab.show = selectTab;\n  }\n  window['MaterialLayoutTab'] = MaterialLayoutTab;\n\n  // The component registers itself. It can assume componentHandler is available\n  // in the global scope.\n  componentHandler.register({\n    constructor: MaterialLayout,\n    classAsString: 'MaterialLayout',\n    cssClass: 'mdl-js-layout'\n  });\n})();\n","/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * A component handler interface using the revealing module design pattern.\n * More details on this design pattern here:\n * https://github.com/jasonmayes/mdl-component-design-pattern\n *\n * @author Jason Mayes.\n */\n/* exported componentHandler */\n\n// Pre-defining the componentHandler interface, for closure documentation and\n// static verification.\nvar componentHandler = {\n  /**\n   * Searches existing DOM for elements of our component type and upgrades them\n   * if they have not already been upgraded.\n   *\n   * @param {string=} optJsClass the programatic name of the element class we\n   * need to create a new instance of.\n   * @param {string=} optCssClass the name of the CSS class elements of this\n   * type will have.\n   */\n  upgradeDom: function(optJsClass, optCssClass) {},\n  /**\n   * Upgrades a specific element rather than all in the DOM.\n   *\n   * @param {!Element} element The element we wish to upgrade.\n   * @param {string=} optJsClass Optional name of the class we want to upgrade\n   * the element to.\n   */\n  upgradeElement: function(element, optJsClass) {},\n  /**\n   * Upgrades a specific list of elements rather than all in the DOM.\n   *\n   * @param {!Element|!Array<!Element>|!NodeList|!HTMLCollection} elements\n   * The elements we wish to upgrade.\n   */\n  upgradeElements: function(elements) {},\n  /**\n   * Upgrades all registered components found in the current DOM. This is\n   * automatically called on window load.\n   */\n  upgradeAllRegistered: function() {},\n  /**\n   * Allows user to be alerted to any upgrades that are performed for a given\n   * component type\n   *\n   * @param {string} jsClass The class name of the MDL component we wish\n   * to hook into for any upgrades performed.\n   * @param {function(!HTMLElement)} callback The function to call upon an\n   * upgrade. This function should expect 1 parameter - the HTMLElement which\n   * got upgraded.\n   */\n  registerUpgradedCallback: function(jsClass, callback) {},\n  /**\n   * Registers a class for future use and attempts to upgrade existing DOM.\n   *\n   * @param {componentHandler.ComponentConfigPublic} config the registration configuration\n   */\n  register: function(config) {},\n  /**\n   * Downgrade either a given node, an array of nodes, or a NodeList.\n   *\n   * @param {!Node|!Array<!Node>|!NodeList} nodes\n   */\n  downgradeElements: function(nodes) {}\n};\n\ncomponentHandler = (function() {\n  'use strict';\n\n  /** @type {!Array<componentHandler.ComponentConfig>} */\n  var registeredComponents_ = [];\n\n  /** @type {!Array<componentHandler.Component>} */\n  var createdComponents_ = [];\n\n  var componentConfigProperty_ = 'mdlComponentConfigInternal_';\n\n  /**\n   * Searches registered components for a class we are interested in using.\n   * Optionally replaces a match with passed object if specified.\n   *\n   * @param {string} name The name of a class we want to use.\n   * @param {componentHandler.ComponentConfig=} optReplace Optional object to replace match with.\n   * @return {!Object|boolean}\n   * @private\n   */\n  function findRegisteredClass_(name, optReplace) {\n    for (var i = 0; i < registeredComponents_.length; i++) {\n      if (registeredComponents_[i].className === name) {\n        if (typeof optReplace !== 'undefined') {\n          registeredComponents_[i] = optReplace;\n        }\n        return registeredComponents_[i];\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Returns an array of the classNames of the upgraded classes on the element.\n   *\n   * @param {!Element} element The element to fetch data from.\n   * @return {!Array<string>}\n   * @private\n   */\n  function getUpgradedListOfElement_(element) {\n    var dataUpgraded = element.getAttribute('data-upgraded');\n    // Use `['']` as default value to conform the `,name,name...` style.\n    return dataUpgraded === null ? [''] : dataUpgraded.split(',');\n  }\n\n  /**\n   * Returns true if the given element has already been upgraded for the given\n   * class.\n   *\n   * @param {!Element} element The element we want to check.\n   * @param {string} jsClass The class to check for.\n   * @returns {boolean}\n   * @private\n   */\n  function isElementUpgraded_(element, jsClass) {\n    var upgradedList = getUpgradedListOfElement_(element);\n    return upgradedList.indexOf(jsClass) !== -1;\n  }\n\n  /**\n   * Create an event object.\n   *\n   * @param {string} eventType The type name of the event.\n   * @param {boolean} bubbles Whether the event should bubble up the DOM.\n   * @param {boolean} cancelable Whether the event can be canceled.\n   * @returns {!Event}\n   */\n  function createEvent_(eventType, bubbles, cancelable) {\n    if ('CustomEvent' in window && typeof window.CustomEvent === 'function') {\n      return new CustomEvent(eventType, {\n        bubbles: bubbles,\n        cancelable: cancelable\n      });\n    } else {\n      var ev = document.createEvent('Events');\n      ev.initEvent(eventType, bubbles, cancelable);\n      return ev;\n    }\n  }\n\n  /**\n   * Searches existing DOM for elements of our component type and upgrades them\n   * if they have not already been upgraded.\n   *\n   * @param {string=} optJsClass the programatic name of the element class we\n   * need to create a new instance of.\n   * @param {string=} optCssClass the name of the CSS class elements of this\n   * type will have.\n   */\n  function upgradeDomInternal(optJsClass, optCssClass) {\n    if (typeof optJsClass === 'undefined' &&\n        typeof optCssClass === 'undefined') {\n      for (var i = 0; i < registeredComponents_.length; i++) {\n        upgradeDomInternal(registeredComponents_[i].className,\n            registeredComponents_[i].cssClass);\n      }\n    } else {\n      var jsClass = /** @type {string} */ (optJsClass);\n      if (typeof optCssClass === 'undefined') {\n        var registeredClass = findRegisteredClass_(jsClass);\n        if (registeredClass) {\n          optCssClass = registeredClass.cssClass;\n        }\n      }\n\n      var elements = document.querySelectorAll('.' + optCssClass);\n      for (var n = 0; n < elements.length; n++) {\n        upgradeElementInternal(elements[n], jsClass);\n      }\n    }\n  }\n\n  /**\n   * Upgrades a specific element rather than all in the DOM.\n   *\n   * @param {!Element} element The element we wish to upgrade.\n   * @param {string=} optJsClass Optional name of the class we want to upgrade\n   * the element to.\n   */\n  function upgradeElementInternal(element, optJsClass) {\n    // Verify argument type.\n    if (!(typeof element === 'object' && element instanceof Element)) {\n      throw new Error('Invalid argument provided to upgrade MDL element.');\n    }\n    // Allow upgrade to be canceled by canceling emitted event.\n    var upgradingEv = createEvent_('mdl-componentupgrading', true, true);\n    element.dispatchEvent(upgradingEv);\n    if (upgradingEv.defaultPrevented) {\n      return;\n    }\n\n    var upgradedList = getUpgradedListOfElement_(element);\n    var classesToUpgrade = [];\n    // If jsClass is not provided scan the registered components to find the\n    // ones matching the element's CSS classList.\n    if (!optJsClass) {\n      var classList = element.classList;\n      registeredComponents_.forEach(function(component) {\n        // Match CSS & Not to be upgraded & Not upgraded.\n        if (classList.contains(component.cssClass) &&\n            classesToUpgrade.indexOf(component) === -1 &&\n            !isElementUpgraded_(element, component.className)) {\n          classesToUpgrade.push(component);\n        }\n      });\n    } else if (!isElementUpgraded_(element, optJsClass)) {\n      classesToUpgrade.push(findRegisteredClass_(optJsClass));\n    }\n\n    // Upgrade the element for each classes.\n    for (var i = 0, n = classesToUpgrade.length, registeredClass; i < n; i++) {\n      registeredClass = classesToUpgrade[i];\n      if (registeredClass) {\n        // Mark element as upgraded.\n        upgradedList.push(registeredClass.className);\n        element.setAttribute('data-upgraded', upgradedList.join(','));\n        var instance = new registeredClass.classConstructor(element);\n        instance[componentConfigProperty_] = registeredClass;\n        createdComponents_.push(instance);\n        // Call any callbacks the user has registered with this component type.\n        for (var j = 0, m = registeredClass.callbacks.length; j < m; j++) {\n          registeredClass.callbacks[j](element);\n        }\n\n        if (registeredClass.widget) {\n          // Assign per element instance for control over API\n          element[registeredClass.className] = instance;\n        }\n      } else {\n        throw new Error(\n          'Unable to find a registered component for the given class.');\n      }\n\n      var upgradedEv = createEvent_('mdl-componentupgraded', true, false);\n      element.dispatchEvent(upgradedEv);\n    }\n  }\n\n  /**\n   * Upgrades a specific list of elements rather than all in the DOM.\n   *\n   * @param {!Element|!Array<!Element>|!NodeList|!HTMLCollection} elements\n   * The elements we wish to upgrade.\n   */\n  function upgradeElementsInternal(elements) {\n    if (!Array.isArray(elements)) {\n      if (elements instanceof Element) {\n        elements = [elements];\n      } else {\n        elements = Array.prototype.slice.call(elements);\n      }\n    }\n    for (var i = 0, n = elements.length, element; i < n; i++) {\n      element = elements[i];\n      if (element instanceof HTMLElement) {\n        upgradeElementInternal(element);\n        if (element.children.length > 0) {\n          upgradeElementsInternal(element.children);\n        }\n      }\n    }\n  }\n\n  /**\n   * Registers a class for future use and attempts to upgrade existing DOM.\n   *\n   * @param {componentHandler.ComponentConfigPublic} config\n   */\n  function registerInternal(config) {\n    // In order to support both Closure-compiled and uncompiled code accessing\n    // this method, we need to allow for both the dot and array syntax for\n    // property access. You'll therefore see the `foo.bar || foo['bar']`\n    // pattern repeated across this method.\n    var widgetMissing = (typeof config.widget === 'undefined' &&\n        typeof config['widget'] === 'undefined');\n    var widget = true;\n\n    if (!widgetMissing) {\n      widget = config.widget || config['widget'];\n    }\n\n    var newConfig = /** @type {componentHandler.ComponentConfig} */ ({\n      classConstructor: config.constructor || config['constructor'],\n      className: config.classAsString || config['classAsString'],\n      cssClass: config.cssClass || config['cssClass'],\n      widget: widget,\n      callbacks: []\n    });\n\n    registeredComponents_.forEach(function(item) {\n      if (item.cssClass === newConfig.cssClass) {\n        throw new Error('The provided cssClass has already been registered: ' + item.cssClass);\n      }\n      if (item.className === newConfig.className) {\n        throw new Error('The provided className has already been registered');\n      }\n    });\n\n    if (config.constructor.prototype\n        .hasOwnProperty(componentConfigProperty_)) {\n      throw new Error(\n          'MDL component classes must not have ' + componentConfigProperty_ +\n          ' defined as a property.');\n    }\n\n    var found = findRegisteredClass_(config.classAsString, newConfig);\n\n    if (!found) {\n      registeredComponents_.push(newConfig);\n    }\n  }\n\n  /**\n   * Allows user to be alerted to any upgrades that are performed for a given\n   * component type\n   *\n   * @param {string} jsClass The class name of the MDL component we wish\n   * to hook into for any upgrades performed.\n   * @param {function(!HTMLElement)} callback The function to call upon an\n   * upgrade. This function should expect 1 parameter - the HTMLElement which\n   * got upgraded.\n   */\n  function registerUpgradedCallbackInternal(jsClass, callback) {\n    var regClass = findRegisteredClass_(jsClass);\n    if (regClass) {\n      regClass.callbacks.push(callback);\n    }\n  }\n\n  /**\n   * Upgrades all registered components found in the current DOM. This is\n   * automatically called on window load.\n   */\n  function upgradeAllRegisteredInternal() {\n    for (var n = 0; n < registeredComponents_.length; n++) {\n      upgradeDomInternal(registeredComponents_[n].className);\n    }\n  }\n\n  /**\n   * Check the component for the downgrade method.\n   * Execute if found.\n   * Remove component from createdComponents list.\n   *\n   * @param {?componentHandler.Component} component\n   */\n  function deconstructComponentInternal(component) {\n    if (component) {\n      var componentIndex = createdComponents_.indexOf(component);\n      createdComponents_.splice(componentIndex, 1);\n\n      var upgrades = component.element_.getAttribute('data-upgraded').split(',');\n      var componentPlace = upgrades.indexOf(component[componentConfigProperty_].classAsString);\n      upgrades.splice(componentPlace, 1);\n      component.element_.setAttribute('data-upgraded', upgrades.join(','));\n\n      var ev = createEvent_('mdl-componentdowngraded', true, false);\n      component.element_.dispatchEvent(ev);\n    }\n  }\n\n  /**\n   * Downgrade either a given node, an array of nodes, or a NodeList.\n   *\n   * @param {!Node|!Array<!Node>|!NodeList} nodes\n   */\n  function downgradeNodesInternal(nodes) {\n    /**\n     * Auxiliary function to downgrade a single node.\n     * @param  {!Node} node the node to be downgraded\n     */\n    var downgradeNode = function(node) {\n      createdComponents_.filter(function(item) {\n        return item.element_ === node;\n      }).forEach(deconstructComponentInternal);\n    };\n    if (nodes instanceof Array || nodes instanceof NodeList) {\n      for (var n = 0; n < nodes.length; n++) {\n        downgradeNode(nodes[n]);\n      }\n    } else if (nodes instanceof Node) {\n      downgradeNode(nodes);\n    } else {\n      throw new Error('Invalid argument provided to downgrade MDL nodes.');\n    }\n  }\n\n  // Now return the functions that should be made public with their publicly\n  // facing names...\n  return {\n    upgradeDom: upgradeDomInternal,\n    upgradeElement: upgradeElementInternal,\n    upgradeElements: upgradeElementsInternal,\n    upgradeAllRegistered: upgradeAllRegisteredInternal,\n    registerUpgradedCallback: registerUpgradedCallbackInternal,\n    register: registerInternal,\n    downgradeElements: downgradeNodesInternal\n  };\n})();\n\n/**\n * Describes the type of a registered component type managed by\n * componentHandler. Provided for benefit of the Closure compiler.\n *\n * @typedef {{\n *   constructor: Function,\n *   classAsString: string,\n *   cssClass: string,\n *   widget: (string|boolean|undefined)\n * }}\n */\ncomponentHandler.ComponentConfigPublic;  // jshint ignore:line\n\n/**\n * Describes the type of a registered component type managed by\n * componentHandler. Provided for benefit of the Closure compiler.\n *\n * @typedef {{\n *   constructor: !Function,\n *   className: string,\n *   cssClass: string,\n *   widget: (string|boolean),\n *   callbacks: !Array<function(!HTMLElement)>\n * }}\n */\ncomponentHandler.ComponentConfig;  // jshint ignore:line\n\n/**\n * Created component (i.e., upgraded element) type as managed by\n * componentHandler. Provided for benefit of the Closure compiler.\n *\n * @typedef {{\n *   element_: !HTMLElement,\n *   className: string,\n *   classAsString: string,\n *   cssClass: string,\n *   widget: string\n * }}\n */\ncomponentHandler.Component;  // jshint ignore:line\n\n// Export all symbols, for the benefit of Closure compiler.\n// No effect on uncompiled code.\ncomponentHandler['upgradeDom'] = componentHandler.upgradeDom;\ncomponentHandler['upgradeElement'] = componentHandler.upgradeElement;\ncomponentHandler['upgradeElements'] = componentHandler.upgradeElements;\ncomponentHandler['upgradeAllRegistered'] =\n    componentHandler.upgradeAllRegistered;\ncomponentHandler['registerUpgradedCallback'] =\n    componentHandler.registerUpgradedCallback;\ncomponentHandler['register'] = componentHandler.register;\ncomponentHandler['downgradeElements'] = componentHandler.downgradeElements;\nwindow.componentHandler = componentHandler;\nwindow['componentHandler'] = componentHandler;\n\nwindow.addEventListener('load', function() {\n  'use strict';\n\n  /**\n   * Performs a \"Cutting the mustard\" test. If the browser supports the features\n   * tested, adds a mdl-js class to the <html> element. It then upgrades all MDL\n   * components requiring JavaScript.\n   */\n  if ('classList' in document.createElement('div') &&\n      'querySelector' in document &&\n      'addEventListener' in window && Array.prototype.forEach) {\n    document.documentElement.classList.add('mdl-js');\n    componentHandler.upgradeAllRegistered();\n  } else {\n    /**\n     * Dummy function to avoid JS errors.\n     */\n    componentHandler.upgradeElement = function() {};\n    /**\n     * Dummy function to avoid JS errors.\n     */\n    componentHandler.register = function() {};\n  }\n});\n","/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n(function() {\n  'use strict';\n\n  /**\n   * Class constructor for dropdown MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\n  var MaterialMenu = function MaterialMenu(element) {\n    this.element_ = element;\n\n    // Initialize instance.\n    this.init();\n  };\n  window['MaterialMenu'] = MaterialMenu;\n\n  /**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\n  MaterialMenu.prototype.Constant_ = {\n    // Total duration of the menu animation.\n    TRANSITION_DURATION_SECONDS: 0.3,\n    // The fraction of the total duration we want to use for menu item animations.\n    TRANSITION_DURATION_FRACTION: 0.8,\n    // How long the menu stays open after choosing an option (so the user can see\n    // the ripple).\n    CLOSE_TIMEOUT: 150\n  };\n\n  /**\n   * Keycodes, for code readability.\n   *\n   * @enum {number}\n   * @private\n   */\n  MaterialMenu.prototype.Keycodes_ = {\n    ENTER: 13,\n    ESCAPE: 27,\n    SPACE: 32,\n    UP_ARROW: 38,\n    DOWN_ARROW: 40\n  };\n\n  /**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\n  MaterialMenu.prototype.CssClasses_ = {\n    CONTAINER: 'mdl-menu__container',\n    OUTLINE: 'mdl-menu__outline',\n    ITEM: 'mdl-menu__item',\n    ITEM_RIPPLE_CONTAINER: 'mdl-menu__item-ripple-container',\n    RIPPLE_EFFECT: 'mdl-js-ripple-effect',\n    RIPPLE_IGNORE_EVENTS: 'mdl-js-ripple-effect--ignore-events',\n    RIPPLE: 'mdl-ripple',\n    // Statuses\n    IS_UPGRADED: 'is-upgraded',\n    IS_VISIBLE: 'is-visible',\n    IS_ANIMATING: 'is-animating',\n    // Alignment options\n    BOTTOM_LEFT: 'mdl-menu--bottom-left',  // This is the default.\n    BOTTOM_RIGHT: 'mdl-menu--bottom-right',\n    TOP_LEFT: 'mdl-menu--top-left',\n    TOP_RIGHT: 'mdl-menu--top-right',\n    UNALIGNED: 'mdl-menu--unaligned'\n  };\n\n  /**\n   * Initialize element.\n   */\n  MaterialMenu.prototype.init = function() {\n    if (this.element_) {\n      // Create container for the menu.\n      var container = document.createElement('div');\n      container.classList.add(this.CssClasses_.CONTAINER);\n      this.element_.parentElement.insertBefore(container, this.element_);\n      this.element_.parentElement.removeChild(this.element_);\n      container.appendChild(this.element_);\n      this.container_ = container;\n\n      // Create outline for the menu (shadow and background).\n      var outline = document.createElement('div');\n      outline.classList.add(this.CssClasses_.OUTLINE);\n      this.outline_ = outline;\n      container.insertBefore(outline, this.element_);\n\n      // Find the \"for\" element and bind events to it.\n      var forElId = this.element_.getAttribute('for') ||\n                      this.element_.getAttribute('data-mdl-for');\n      var forEl = null;\n      if (forElId) {\n        forEl = document.getElementById(forElId);\n        if (forEl) {\n          this.forElement_ = forEl;\n          forEl.addEventListener('click', this.handleForClick_.bind(this));\n          forEl.addEventListener('keydown',\n              this.handleForKeyboardEvent_.bind(this));\n        }\n      }\n\n      var items = this.element_.querySelectorAll('.' + this.CssClasses_.ITEM);\n      this.boundItemKeydown_ = this.handleItemKeyboardEvent_.bind(this);\n      this.boundItemClick_ = this.handleItemClick_.bind(this);\n      for (var i = 0; i < items.length; i++) {\n        // Add a listener to each menu item.\n        items[i].addEventListener('click', this.boundItemClick_);\n        // Add a tab index to each menu item.\n        items[i].tabIndex = '-1';\n        // Add a keyboard listener to each menu item.\n        items[i].addEventListener('keydown', this.boundItemKeydown_);\n      }\n\n      // Add ripple classes to each item, if the user has enabled ripples.\n      if (this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)) {\n        this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS);\n\n        for (i = 0; i < items.length; i++) {\n          var item = items[i];\n\n          var rippleContainer = document.createElement('span');\n          rippleContainer.classList.add(this.CssClasses_.ITEM_RIPPLE_CONTAINER);\n\n          var ripple = document.createElement('span');\n          ripple.classList.add(this.CssClasses_.RIPPLE);\n          rippleContainer.appendChild(ripple);\n\n          item.appendChild(rippleContainer);\n          item.classList.add(this.CssClasses_.RIPPLE_EFFECT);\n        }\n      }\n\n      // Copy alignment classes to the container, so the outline can use them.\n      if (this.element_.classList.contains(this.CssClasses_.BOTTOM_LEFT)) {\n        this.outline_.classList.add(this.CssClasses_.BOTTOM_LEFT);\n      }\n      if (this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)) {\n        this.outline_.classList.add(this.CssClasses_.BOTTOM_RIGHT);\n      }\n      if (this.element_.classList.contains(this.CssClasses_.TOP_LEFT)) {\n        this.outline_.classList.add(this.CssClasses_.TOP_LEFT);\n      }\n      if (this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)) {\n        this.outline_.classList.add(this.CssClasses_.TOP_RIGHT);\n      }\n      if (this.element_.classList.contains(this.CssClasses_.UNALIGNED)) {\n        this.outline_.classList.add(this.CssClasses_.UNALIGNED);\n      }\n\n      container.classList.add(this.CssClasses_.IS_UPGRADED);\n    }\n  };\n\n  /**\n   * Handles a click on the \"for\" element, by positioning the menu and then\n   * toggling it.\n   *\n   * @param {Event} evt The event that fired.\n   * @private\n   */\n  MaterialMenu.prototype.handleForClick_ = function(evt) {\n    if (this.element_ && this.forElement_) {\n      var rect = this.forElement_.getBoundingClientRect();\n      var forRect = this.forElement_.parentElement.getBoundingClientRect();\n\n      if (this.element_.classList.contains(this.CssClasses_.UNALIGNED)) {\n        // Do not position the menu automatically. Requires the developer to\n        // manually specify position.\n      } else if (this.element_.classList.contains(\n          this.CssClasses_.BOTTOM_RIGHT)) {\n        // Position below the \"for\" element, aligned to its right.\n        this.container_.style.right = (forRect.right - rect.right) + 'px';\n        this.container_.style.top =\n            this.forElement_.offsetTop + this.forElement_.offsetHeight + 'px';\n      } else if (this.element_.classList.contains(this.CssClasses_.TOP_LEFT)) {\n        // Position above the \"for\" element, aligned to its left.\n        this.container_.style.left = this.forElement_.offsetLeft + 'px';\n        this.container_.style.bottom = (forRect.bottom - rect.top) + 'px';\n      } else if (this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)) {\n        // Position above the \"for\" element, aligned to its right.\n        this.container_.style.right = (forRect.right - rect.right) + 'px';\n        this.container_.style.bottom = (forRect.bottom - rect.top) + 'px';\n      } else {\n        // Default: position below the \"for\" element, aligned to its left.\n        this.container_.style.left = this.forElement_.offsetLeft + 'px';\n        this.container_.style.top =\n            this.forElement_.offsetTop + this.forElement_.offsetHeight + 'px';\n      }\n    }\n\n    this.toggle(evt);\n  };\n\n  /**\n   * Handles a keyboard event on the \"for\" element.\n   *\n   * @param {Event} evt The event that fired.\n   * @private\n   */\n  MaterialMenu.prototype.handleForKeyboardEvent_ = function(evt) {\n    if (this.element_ && this.container_ && this.forElement_) {\n      var items = this.element_.querySelectorAll('.' + this.CssClasses_.ITEM +\n        ':not([disabled])');\n\n      if (items && items.length > 0 &&\n          this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)) {\n        if (evt.keyCode === this.Keycodes_.UP_ARROW) {\n          evt.preventDefault();\n          items[items.length - 1].focus();\n        } else if (evt.keyCode === this.Keycodes_.DOWN_ARROW) {\n          evt.preventDefault();\n          items[0].focus();\n        }\n      }\n    }\n  };\n\n  /**\n   * Handles a keyboard event on an item.\n   *\n   * @param {Event} evt The event that fired.\n   * @private\n   */\n  MaterialMenu.prototype.handleItemKeyboardEvent_ = function(evt) {\n    if (this.element_ && this.container_) {\n      var items = this.element_.querySelectorAll('.' + this.CssClasses_.ITEM +\n        ':not([disabled])');\n\n      if (items && items.length > 0 &&\n          this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)) {\n        var currentIndex = Array.prototype.slice.call(items).indexOf(evt.target);\n\n        if (evt.keyCode === this.Keycodes_.UP_ARROW) {\n          evt.preventDefault();\n          if (currentIndex > 0) {\n            items[currentIndex - 1].focus();\n          } else {\n            items[items.length - 1].focus();\n          }\n        } else if (evt.keyCode === this.Keycodes_.DOWN_ARROW) {\n          evt.preventDefault();\n          if (items.length > currentIndex + 1) {\n            items[currentIndex + 1].focus();\n          } else {\n            items[0].focus();\n          }\n        } else if (evt.keyCode === this.Keycodes_.SPACE ||\n              evt.keyCode === this.Keycodes_.ENTER) {\n          evt.preventDefault();\n          // Send mousedown and mouseup to trigger ripple.\n          var e = new MouseEvent('mousedown');\n          evt.target.dispatchEvent(e);\n          e = new MouseEvent('mouseup');\n          evt.target.dispatchEvent(e);\n          // Send click.\n          evt.target.click();\n        } else if (evt.keyCode === this.Keycodes_.ESCAPE) {\n          evt.preventDefault();\n          this.hide();\n        }\n      }\n    }\n  };\n\n  /**\n   * Handles a click event on an item.\n   *\n   * @param {Event} evt The event that fired.\n   * @private\n   */\n  MaterialMenu.prototype.handleItemClick_ = function(evt) {\n    if (evt.target.hasAttribute('disabled')) {\n      evt.stopPropagation();\n    } else {\n      // Wait some time before closing menu, so the user can see the ripple.\n      this.closing_ = true;\n      window.setTimeout(function(evt) {\n        this.hide();\n        this.closing_ = false;\n      }.bind(this), /** @type {number} */ (this.Constant_.CLOSE_TIMEOUT));\n    }\n  };\n\n  /**\n   * Calculates the initial clip (for opening the menu) or final clip (for closing\n   * it), and applies it. This allows us to animate from or to the correct point,\n   * that is, the point it's aligned to in the \"for\" element.\n   *\n   * @param {number} height Height of the clip rectangle\n   * @param {number} width Width of the clip rectangle\n   * @private\n   */\n  MaterialMenu.prototype.applyClip_ = function(height, width) {\n    if (this.element_.classList.contains(this.CssClasses_.UNALIGNED)) {\n      // Do not clip.\n      this.element_.style.clip = '';\n    } else if (this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)) {\n      // Clip to the top right corner of the menu.\n      this.element_.style.clip =\n          'rect(0 ' + width + 'px ' + '0 ' + width + 'px)';\n    } else if (this.element_.classList.contains(this.CssClasses_.TOP_LEFT)) {\n      // Clip to the bottom left corner of the menu.\n      this.element_.style.clip =\n          'rect(' + height + 'px 0 ' + height + 'px 0)';\n    } else if (this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)) {\n      // Clip to the bottom right corner of the menu.\n      this.element_.style.clip = 'rect(' + height + 'px ' + width + 'px ' +\n          height + 'px ' + width + 'px)';\n    } else {\n      // Default: do not clip (same as clipping to the top left corner).\n      this.element_.style.clip = '';\n    }\n  };\n\n  /**\n   * Cleanup function to remove animation listeners.\n   *\n   * @param {Event} evt\n   * @private\n   */\n\n  MaterialMenu.prototype.removeAnimationEndListener_ = function(evt) {\n    evt.target.classList.remove(MaterialMenu.prototype.CssClasses_.IS_ANIMATING);\n  };\n\n  /**\n   * Adds an event listener to clean up after the animation ends.\n   *\n   * @private\n   */\n  MaterialMenu.prototype.addAnimationEndListener_ = function() {\n    this.element_.addEventListener('transitionend', this.removeAnimationEndListener_);\n    this.element_.addEventListener('webkitTransitionEnd', this.removeAnimationEndListener_);\n  };\n\n  /**\n   * Displays the menu.\n   *\n   * @public\n   */\n  MaterialMenu.prototype.show = function(evt) {\n    if (this.element_ && this.container_ && this.outline_) {\n      // Measure the inner element.\n      var height = this.element_.getBoundingClientRect().height;\n      var width = this.element_.getBoundingClientRect().width;\n\n      // Apply the inner element's size to the container and outline.\n      this.container_.style.width = width + 'px';\n      this.container_.style.height = height + 'px';\n      this.outline_.style.width = width + 'px';\n      this.outline_.style.height = height + 'px';\n\n      var transitionDuration = this.Constant_.TRANSITION_DURATION_SECONDS *\n          this.Constant_.TRANSITION_DURATION_FRACTION;\n\n      // Calculate transition delays for individual menu items, so that they fade\n      // in one at a time.\n      var items = this.element_.querySelectorAll('.' + this.CssClasses_.ITEM);\n      for (var i = 0; i < items.length; i++) {\n        var itemDelay = null;\n        if (this.element_.classList.contains(this.CssClasses_.TOP_LEFT) ||\n            this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)) {\n          itemDelay = ((height - items[i].offsetTop - items[i].offsetHeight) /\n              height * transitionDuration) + 's';\n        } else {\n          itemDelay = (items[i].offsetTop / height * transitionDuration) + 's';\n        }\n        items[i].style.transitionDelay = itemDelay;\n      }\n\n      // Apply the initial clip to the text before we start animating.\n      this.applyClip_(height, width);\n\n      // Wait for the next frame, turn on animation, and apply the final clip.\n      // Also make it visible. This triggers the transitions.\n      window.requestAnimationFrame(function() {\n        this.element_.classList.add(this.CssClasses_.IS_ANIMATING);\n        this.element_.style.clip = 'rect(0 ' + width + 'px ' + height + 'px 0)';\n        this.container_.classList.add(this.CssClasses_.IS_VISIBLE);\n      }.bind(this));\n\n      // Clean up after the animation is complete.\n      this.addAnimationEndListener_();\n\n      // Add a click listener to the document, to close the menu.\n      var callback = function(e) {\n        // Check to see if the document is processing the same event that\n        // displayed the menu in the first place. If so, do nothing.\n        // Also check to see if the menu is in the process of closing itself, and\n        // do nothing in that case.\n        // Also check if the clicked element is a menu item\n        // if so, do nothing.\n        if (e !== evt && !this.closing_ && e.target.parentNode !== this.element_) {\n          document.removeEventListener('click', callback);\n          this.hide();\n        }\n      }.bind(this);\n      document.addEventListener('click', callback);\n    }\n  };\n  MaterialMenu.prototype['show'] = MaterialMenu.prototype.show;\n\n  /**\n   * Hides the menu.\n   *\n   * @public\n   */\n  MaterialMenu.prototype.hide = function() {\n    if (this.element_ && this.container_ && this.outline_) {\n      var items = this.element_.querySelectorAll('.' + this.CssClasses_.ITEM);\n\n      // Remove all transition delays; menu items fade out concurrently.\n      for (var i = 0; i < items.length; i++) {\n        items[i].style.removeProperty('transition-delay');\n      }\n\n      // Measure the inner element.\n      var rect = this.element_.getBoundingClientRect();\n      var height = rect.height;\n      var width = rect.width;\n\n      // Turn on animation, and apply the final clip. Also make invisible.\n      // This triggers the transitions.\n      this.element_.classList.add(this.CssClasses_.IS_ANIMATING);\n      this.applyClip_(height, width);\n      this.container_.classList.remove(this.CssClasses_.IS_VISIBLE);\n\n      // Clean up after the animation is complete.\n      this.addAnimationEndListener_();\n    }\n  };\n  MaterialMenu.prototype['hide'] = MaterialMenu.prototype.hide;\n\n  /**\n   * Displays or hides the menu, depending on current state.\n   *\n   * @public\n   */\n  MaterialMenu.prototype.toggle = function(evt) {\n    if (this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)) {\n      this.hide();\n    } else {\n      this.show(evt);\n    }\n  };\n  MaterialMenu.prototype['toggle'] = MaterialMenu.prototype.toggle;\n\n  // The component registers itself. It can assume componentHandler is available\n  // in the global scope.\n  componentHandler.register({\n    constructor: MaterialMenu,\n    classAsString: 'MaterialMenu',\n    cssClass: 'mdl-js-menu',\n    widget: true\n  });\n})();\n","/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n(function() {\n  'use strict';\n\n  /**\n   * Class constructor for Progress MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\n  var MaterialProgress = function MaterialProgress(element) {\n    this.element_ = element;\n\n    // Initialize instance.\n    this.init();\n  };\n  window['MaterialProgress'] = MaterialProgress;\n\n  /**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\n  MaterialProgress.prototype.Constant_ = {\n  };\n\n  /**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\n  MaterialProgress.prototype.CssClasses_ = {\n    INDETERMINATE_CLASS: 'mdl-progress__indeterminate'\n  };\n\n  /**\n   * Set the current progress of the progressbar.\n   *\n   * @param {number} p Percentage of the progress (0-100)\n   * @public\n   */\n  MaterialProgress.prototype.setProgress = function(p) {\n    if (this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)) {\n      return;\n    }\n\n    this.progressbar_.style.width = p + '%';\n  };\n  MaterialProgress.prototype['setProgress'] =\n      MaterialProgress.prototype.setProgress;\n\n  /**\n   * Set the current progress of the buffer.\n   *\n   * @param {number} p Percentage of the buffer (0-100)\n   * @public\n   */\n  MaterialProgress.prototype.setBuffer = function(p) {\n    this.bufferbar_.style.width = p + '%';\n    this.auxbar_.style.width = (100 - p) + '%';\n  };\n  MaterialProgress.prototype['setBuffer'] =\n      MaterialProgress.prototype.setBuffer;\n\n  /**\n   * Initialize element.\n   */\n  MaterialProgress.prototype.init = function() {\n    if (this.element_) {\n      var el = document.createElement('div');\n      el.className = 'progressbar bar bar1';\n      this.element_.appendChild(el);\n      this.progressbar_ = el;\n\n      el = document.createElement('div');\n      el.className = 'bufferbar bar bar2';\n      this.element_.appendChild(el);\n      this.bufferbar_ = el;\n\n      el = document.createElement('div');\n      el.className = 'auxbar bar bar3';\n      this.element_.appendChild(el);\n      this.auxbar_ = el;\n\n      this.progressbar_.style.width = '0%';\n      this.bufferbar_.style.width = '100%';\n      this.auxbar_.style.width = '0%';\n\n      this.element_.classList.add('is-upgraded');\n    }\n  };\n\n  // The component registers itself. It can assume componentHandler is available\n  // in the global scope.\n  componentHandler.register({\n    constructor: MaterialProgress,\n    classAsString: 'MaterialProgress',\n    cssClass: 'mdl-js-progress',\n    widget: true\n  });\n})();\n","/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n(function() {\n  'use strict';\n\n  /**\n   * Class constructor for Spinner MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @param {HTMLElement} element The element that will be upgraded.\n   * @constructor\n   */\n  var MaterialSpinner = function MaterialSpinner(element) {\n    this.element_ = element;\n\n    // Initialize instance.\n    this.init();\n  };\n  window['MaterialSpinner'] = MaterialSpinner;\n\n  /**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\n  MaterialSpinner.prototype.Constant_ = {\n    MDL_SPINNER_LAYER_COUNT: 4\n  };\n\n  /**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\n  MaterialSpinner.prototype.CssClasses_ = {\n    MDL_SPINNER_LAYER: 'mdl-spinner__layer',\n    MDL_SPINNER_CIRCLE_CLIPPER: 'mdl-spinner__circle-clipper',\n    MDL_SPINNER_CIRCLE: 'mdl-spinner__circle',\n    MDL_SPINNER_GAP_PATCH: 'mdl-spinner__gap-patch',\n    MDL_SPINNER_LEFT: 'mdl-spinner__left',\n    MDL_SPINNER_RIGHT: 'mdl-spinner__right'\n  };\n\n  /**\n   * Auxiliary method to create a spinner layer.\n   *\n   * @param {number} index Index of the layer to be created.\n   * @public\n   */\n  MaterialSpinner.prototype.createLayer = function(index) {\n    var layer = document.createElement('div');\n    layer.classList.add(this.CssClasses_.MDL_SPINNER_LAYER);\n    layer.classList.add(this.CssClasses_.MDL_SPINNER_LAYER + '-' + index);\n\n    var leftClipper = document.createElement('div');\n    leftClipper.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER);\n    leftClipper.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);\n\n    var gapPatch = document.createElement('div');\n    gapPatch.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);\n\n    var rightClipper = document.createElement('div');\n    rightClipper.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER);\n    rightClipper.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);\n\n    var circleOwners = [leftClipper, gapPatch, rightClipper];\n\n    for (var i = 0; i < circleOwners.length; i++) {\n      var circle = document.createElement('div');\n      circle.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE);\n      circleOwners[i].appendChild(circle);\n    }\n\n    layer.appendChild(leftClipper);\n    layer.appendChild(gapPatch);\n    layer.appendChild(rightClipper);\n\n    this.element_.appendChild(layer);\n  };\n  MaterialSpinner.prototype['createLayer'] =\n      MaterialSpinner.prototype.createLayer;\n\n  /**\n   * Stops the spinner animation.\n   * Public method for users who need to stop the spinner for any reason.\n   *\n   * @public\n   */\n  MaterialSpinner.prototype.stop = function() {\n    this.element_.classList.remove('is-active');\n  };\n  MaterialSpinner.prototype['stop'] = MaterialSpinner.prototype.stop;\n\n  /**\n   * Starts the spinner animation.\n   * Public method for users who need to manually start the spinner for any reason\n   * (instead of just adding the 'is-active' class to their markup).\n   *\n   * @public\n   */\n  MaterialSpinner.prototype.start = function() {\n    this.element_.classList.add('is-active');\n  };\n  MaterialSpinner.prototype['start'] = MaterialSpinner.prototype.start;\n\n  /**\n   * Initialize element.\n   */\n  MaterialSpinner.prototype.init = function() {\n    if (this.element_) {\n      for (var i = 1; i <= this.Constant_.MDL_SPINNER_LAYER_COUNT; i++) {\n        this.createLayer(i);\n      }\n\n      this.element_.classList.add('is-upgraded');\n    }\n  };\n\n  // The component registers itself. It can assume componentHandler is available\n  // in the global scope.\n  componentHandler.register({\n    constructor: MaterialSpinner,\n    classAsString: 'MaterialSpinner',\n    cssClass: 'mdl-js-spinner',\n    widget: true\n  });\n})();\n","'use strict';\n/**\n * @license Angular v12.0.0-next.0\n * (c) 2010-2020 Google LLC. https://angular.io/\n * License: MIT\n */\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nconst Zone$1 = (function (global) {\n    const performance = global['performance'];\n    function mark(name) {\n        performance && performance['mark'] && performance['mark'](name);\n    }\n    function performanceMeasure(name, label) {\n        performance && performance['measure'] && performance['measure'](name, label);\n    }\n    mark('Zone');\n    // Initialize before it's accessed below.\n    // __Zone_symbol_prefix global can be used to override the default zone\n    // symbol prefix with a custom one if needed.\n    const symbolPrefix = global['__Zone_symbol_prefix'] || '__zone_symbol__';\n    function __symbol__(name) {\n        return symbolPrefix + name;\n    }\n    const checkDuplicate = global[__symbol__('forceDuplicateZoneCheck')] === true;\n    if (global['Zone']) {\n        // if global['Zone'] already exists (maybe zone.js was already loaded or\n        // some other lib also registered a global object named Zone), we may need\n        // to throw an error, but sometimes user may not want this error.\n        // For example,\n        // we have two web pages, page1 includes zone.js, page2 doesn't.\n        // and the 1st time user load page1 and page2, everything work fine,\n        // but when user load page2 again, error occurs because global['Zone'] already exists.\n        // so we add a flag to let user choose whether to throw this error or not.\n        // By default, if existing Zone is from zone.js, we will not throw the error.\n        if (checkDuplicate || typeof global['Zone'].__symbol__ !== 'function') {\n            throw new Error('Zone already loaded.');\n        }\n        else {\n            return global['Zone'];\n        }\n    }\n    class Zone {\n        constructor(parent, zoneSpec) {\n            this._parent = parent;\n            this._name = zoneSpec ? zoneSpec.name || 'unnamed' : '<root>';\n            this._properties = zoneSpec && zoneSpec.properties || {};\n            this._zoneDelegate =\n                new ZoneDelegate(this, this._parent && this._parent._zoneDelegate, zoneSpec);\n        }\n        static assertZonePatched() {\n            if (global['Promise'] !== patches['ZoneAwarePromise']) {\n                throw new Error('Zone.js has detected that ZoneAwarePromise `(window|global).Promise` ' +\n                    'has been overwritten.\\n' +\n                    'Most likely cause is that a Promise polyfill has been loaded ' +\n                    'after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. ' +\n                    'If you must load one, do so before loading zone.js.)');\n            }\n        }\n        static get root() {\n            let zone = Zone.current;\n            while (zone.parent) {\n                zone = zone.parent;\n            }\n            return zone;\n        }\n        static get current() {\n            return _currentZoneFrame.zone;\n        }\n        static get currentTask() {\n            return _currentTask;\n        }\n        // tslint:disable-next-line:require-internal-with-underscore\n        static __load_patch(name, fn, ignoreDuplicate = false) {\n            if (patches.hasOwnProperty(name)) {\n                // `checkDuplicate` option is defined from global variable\n                // so it works for all modules.\n                // `ignoreDuplicate` can work for the specified module\n                if (!ignoreDuplicate && checkDuplicate) {\n                    throw Error('Already loaded patch: ' + name);\n                }\n            }\n            else if (!global['__Zone_disable_' + name]) {\n                const perfName = 'Zone:' + name;\n                mark(perfName);\n                patches[name] = fn(global, Zone, _api);\n                performanceMeasure(perfName, perfName);\n            }\n        }\n        get parent() {\n            return this._parent;\n        }\n        get name() {\n            return this._name;\n        }\n        get(key) {\n            const zone = this.getZoneWith(key);\n            if (zone)\n                return zone._properties[key];\n        }\n        getZoneWith(key) {\n            let current = this;\n            while (current) {\n                if (current._properties.hasOwnProperty(key)) {\n                    return current;\n                }\n                current = current._parent;\n            }\n            return null;\n        }\n        fork(zoneSpec) {\n            if (!zoneSpec)\n                throw new Error('ZoneSpec required!');\n            return this._zoneDelegate.fork(this, zoneSpec);\n        }\n        wrap(callback, source) {\n            if (typeof callback !== 'function') {\n                throw new Error('Expecting function got: ' + callback);\n            }\n            const _callback = this._zoneDelegate.intercept(this, callback, source);\n            const zone = this;\n            return function () {\n                return zone.runGuarded(_callback, this, arguments, source);\n            };\n        }\n        run(callback, applyThis, applyArgs, source) {\n            _currentZoneFrame = { parent: _currentZoneFrame, zone: this };\n            try {\n                return this._zoneDelegate.invoke(this, callback, applyThis, applyArgs, source);\n            }\n            finally {\n                _currentZoneFrame = _currentZoneFrame.parent;\n            }\n        }\n        runGuarded(callback, applyThis = null, applyArgs, source) {\n            _currentZoneFrame = { parent: _currentZoneFrame, zone: this };\n            try {\n                try {\n                    return this._zoneDelegate.invoke(this, callback, applyThis, applyArgs, source);\n                }\n                catch (error) {\n                    if (this._zoneDelegate.handleError(this, error)) {\n                        throw error;\n                    }\n                }\n            }\n            finally {\n                _currentZoneFrame = _currentZoneFrame.parent;\n            }\n        }\n        runTask(task, applyThis, applyArgs) {\n            if (task.zone != this) {\n                throw new Error('A task can only be run in the zone of creation! (Creation: ' +\n                    (task.zone || NO_ZONE).name + '; Execution: ' + this.name + ')');\n            }\n            // https://github.com/angular/zone.js/issues/778, sometimes eventTask\n            // will run in notScheduled(canceled) state, we should not try to\n            // run such kind of task but just return\n            if (task.state === notScheduled && (task.type === eventTask || task.type === macroTask)) {\n                return;\n            }\n            const reEntryGuard = task.state != running;\n            reEntryGuard && task._transitionTo(running, scheduled);\n            task.runCount++;\n            const previousTask = _currentTask;\n            _currentTask = task;\n            _currentZoneFrame = { parent: _currentZoneFrame, zone: this };\n            try {\n                if (task.type == macroTask && task.data && !task.data.isPeriodic) {\n                    task.cancelFn = undefined;\n                }\n                try {\n                    return this._zoneDelegate.invokeTask(this, task, applyThis, applyArgs);\n                }\n                catch (error) {\n                    if (this._zoneDelegate.handleError(this, error)) {\n                        throw error;\n                    }\n                }\n            }\n            finally {\n                // if the task's state is notScheduled or unknown, then it has already been cancelled\n                // we should not reset the state to scheduled\n                if (task.state !== notScheduled && task.state !== unknown) {\n                    if (task.type == eventTask || (task.data && task.data.isPeriodic)) {\n                        reEntryGuard && task._transitionTo(scheduled, running);\n                    }\n                    else {\n                        task.runCount = 0;\n                        this._updateTaskCount(task, -1);\n                        reEntryGuard &&\n                            task._transitionTo(notScheduled, running, notScheduled);\n                    }\n                }\n                _currentZoneFrame = _currentZoneFrame.parent;\n                _currentTask = previousTask;\n            }\n        }\n        scheduleTask(task) {\n            if (task.zone && task.zone !== this) {\n                // check if the task was rescheduled, the newZone\n                // should not be the children of the original zone\n                let newZone = this;\n                while (newZone) {\n                    if (newZone === task.zone) {\n                        throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${task.zone.name}`);\n                    }\n                    newZone = newZone.parent;\n                }\n            }\n            task._transitionTo(scheduling, notScheduled);\n            const zoneDelegates = [];\n            task._zoneDelegates = zoneDelegates;\n            task._zone = this;\n            try {\n                task = this._zoneDelegate.scheduleTask(this, task);\n            }\n            catch (err) {\n                // should set task's state to unknown when scheduleTask throw error\n                // because the err may from reschedule, so the fromState maybe notScheduled\n                task._transitionTo(unknown, scheduling, notScheduled);\n                // TODO: @JiaLiPassion, should we check the result from handleError?\n                this._zoneDelegate.handleError(this, err);\n                throw err;\n            }\n            if (task._zoneDelegates === zoneDelegates) {\n                // we have to check because internally the delegate can reschedule the task.\n                this._updateTaskCount(task, 1);\n            }\n            if (task.state == scheduling) {\n                task._transitionTo(scheduled, scheduling);\n            }\n            return task;\n        }\n        scheduleMicroTask(source, callback, data, customSchedule) {\n            return this.scheduleTask(new ZoneTask(microTask, source, callback, data, customSchedule, undefined));\n        }\n        scheduleMacroTask(source, callback, data, customSchedule, customCancel) {\n            return this.scheduleTask(new ZoneTask(macroTask, source, callback, data, customSchedule, customCancel));\n        }\n        scheduleEventTask(source, callback, data, customSchedule, customCancel) {\n            return this.scheduleTask(new ZoneTask(eventTask, source, callback, data, customSchedule, customCancel));\n        }\n        cancelTask(task) {\n            if (task.zone != this)\n                throw new Error('A task can only be cancelled in the zone of creation! (Creation: ' +\n                    (task.zone || NO_ZONE).name + '; Execution: ' + this.name + ')');\n            task._transitionTo(canceling, scheduled, running);\n            try {\n                this._zoneDelegate.cancelTask(this, task);\n            }\n            catch (err) {\n                // if error occurs when cancelTask, transit the state to unknown\n                task._transitionTo(unknown, canceling);\n                this._zoneDelegate.handleError(this, err);\n                throw err;\n            }\n            this._updateTaskCount(task, -1);\n            task._transitionTo(notScheduled, canceling);\n            task.runCount = 0;\n            return task;\n        }\n        _updateTaskCount(task, count) {\n            const zoneDelegates = task._zoneDelegates;\n            if (count == -1) {\n                task._zoneDelegates = null;\n            }\n            for (let i = 0; i < zoneDelegates.length; i++) {\n                zoneDelegates[i]._updateTaskCount(task.type, count);\n            }\n        }\n    }\n    // tslint:disable-next-line:require-internal-with-underscore\n    Zone.__symbol__ = __symbol__;\n    const DELEGATE_ZS = {\n        name: '',\n        onHasTask: (delegate, _, target, hasTaskState) => delegate.hasTask(target, hasTaskState),\n        onScheduleTask: (delegate, _, target, task) => delegate.scheduleTask(target, task),\n        onInvokeTask: (delegate, _, target, task, applyThis, applyArgs) => delegate.invokeTask(target, task, applyThis, applyArgs),\n        onCancelTask: (delegate, _, target, task) => delegate.cancelTask(target, task)\n    };\n    class ZoneDelegate {\n        constructor(zone, parentDelegate, zoneSpec) {\n            this._taskCounts = { 'microTask': 0, 'macroTask': 0, 'eventTask': 0 };\n            this.zone = zone;\n            this._parentDelegate = parentDelegate;\n            this._forkZS = zoneSpec && (zoneSpec && zoneSpec.onFork ? zoneSpec : parentDelegate._forkZS);\n            this._forkDlgt = zoneSpec && (zoneSpec.onFork ? parentDelegate : parentDelegate._forkDlgt);\n            this._forkCurrZone =\n                zoneSpec && (zoneSpec.onFork ? this.zone : parentDelegate._forkCurrZone);\n            this._interceptZS =\n                zoneSpec && (zoneSpec.onIntercept ? zoneSpec : parentDelegate._interceptZS);\n            this._interceptDlgt =\n                zoneSpec && (zoneSpec.onIntercept ? parentDelegate : parentDelegate._interceptDlgt);\n            this._interceptCurrZone =\n                zoneSpec && (zoneSpec.onIntercept ? this.zone : parentDelegate._interceptCurrZone);\n            this._invokeZS = zoneSpec && (zoneSpec.onInvoke ? zoneSpec : parentDelegate._invokeZS);\n            this._invokeDlgt =\n                zoneSpec && (zoneSpec.onInvoke ? parentDelegate : parentDelegate._invokeDlgt);\n            this._invokeCurrZone =\n                zoneSpec && (zoneSpec.onInvoke ? this.zone : parentDelegate._invokeCurrZone);\n            this._handleErrorZS =\n                zoneSpec && (zoneSpec.onHandleError ? zoneSpec : parentDelegate._handleErrorZS);\n            this._handleErrorDlgt =\n                zoneSpec && (zoneSpec.onHandleError ? parentDelegate : parentDelegate._handleErrorDlgt);\n            this._handleErrorCurrZone =\n                zoneSpec && (zoneSpec.onHandleError ? this.zone : parentDelegate._handleErrorCurrZone);\n            this._scheduleTaskZS =\n                zoneSpec && (zoneSpec.onScheduleTask ? zoneSpec : parentDelegate._scheduleTaskZS);\n            this._scheduleTaskDlgt = zoneSpec &&\n                (zoneSpec.onScheduleTask ? parentDelegate : parentDelegate._scheduleTaskDlgt);\n            this._scheduleTaskCurrZone =\n                zoneSpec && (zoneSpec.onScheduleTask ? this.zone : parentDelegate._scheduleTaskCurrZone);\n            this._invokeTaskZS =\n                zoneSpec && (zoneSpec.onInvokeTask ? zoneSpec : parentDelegate._invokeTaskZS);\n            this._invokeTaskDlgt =\n                zoneSpec && (zoneSpec.onInvokeTask ? parentDelegate : parentDelegate._invokeTaskDlgt);\n            this._invokeTaskCurrZone =\n                zoneSpec && (zoneSpec.onInvokeTask ? this.zone : parentDelegate._invokeTaskCurrZone);\n            this._cancelTaskZS =\n                zoneSpec && (zoneSpec.onCancelTask ? zoneSpec : parentDelegate._cancelTaskZS);\n            this._cancelTaskDlgt =\n                zoneSpec && (zoneSpec.onCancelTask ? parentDelegate : parentDelegate._cancelTaskDlgt);\n            this._cancelTaskCurrZone =\n                zoneSpec && (zoneSpec.onCancelTask ? this.zone : parentDelegate._cancelTaskCurrZone);\n            this._hasTaskZS = null;\n            this._hasTaskDlgt = null;\n            this._hasTaskDlgtOwner = null;\n            this._hasTaskCurrZone = null;\n            const zoneSpecHasTask = zoneSpec && zoneSpec.onHasTask;\n            const parentHasTask = parentDelegate && parentDelegate._hasTaskZS;\n            if (zoneSpecHasTask || parentHasTask) {\n                // If we need to report hasTask, than this ZS needs to do ref counting on tasks. In such\n                // a case all task related interceptors must go through this ZD. We can't short circuit it.\n                this._hasTaskZS = zoneSpecHasTask ? zoneSpec : DELEGATE_ZS;\n                this._hasTaskDlgt = parentDelegate;\n                this._hasTaskDlgtOwner = this;\n                this._hasTaskCurrZone = zone;\n                if (!zoneSpec.onScheduleTask) {\n                    this._scheduleTaskZS = DELEGATE_ZS;\n                    this._scheduleTaskDlgt = parentDelegate;\n                    this._scheduleTaskCurrZone = this.zone;\n                }\n                if (!zoneSpec.onInvokeTask) {\n                    this._invokeTaskZS = DELEGATE_ZS;\n                    this._invokeTaskDlgt = parentDelegate;\n                    this._invokeTaskCurrZone = this.zone;\n                }\n                if (!zoneSpec.onCancelTask) {\n                    this._cancelTaskZS = DELEGATE_ZS;\n                    this._cancelTaskDlgt = parentDelegate;\n                    this._cancelTaskCurrZone = this.zone;\n                }\n            }\n        }\n        fork(targetZone, zoneSpec) {\n            return this._forkZS ? this._forkZS.onFork(this._forkDlgt, this.zone, targetZone, zoneSpec) :\n                new Zone(targetZone, zoneSpec);\n        }\n        intercept(targetZone, callback, source) {\n            return this._interceptZS ?\n                this._interceptZS.onIntercept(this._interceptDlgt, this._interceptCurrZone, targetZone, callback, source) :\n                callback;\n        }\n        invoke(targetZone, callback, applyThis, applyArgs, source) {\n            return this._invokeZS ? this._invokeZS.onInvoke(this._invokeDlgt, this._invokeCurrZone, targetZone, callback, applyThis, applyArgs, source) :\n                callback.apply(applyThis, applyArgs);\n        }\n        handleError(targetZone, error) {\n            return this._handleErrorZS ?\n                this._handleErrorZS.onHandleError(this._handleErrorDlgt, this._handleErrorCurrZone, targetZone, error) :\n                true;\n        }\n        scheduleTask(targetZone, task) {\n            let returnTask = task;\n            if (this._scheduleTaskZS) {\n                if (this._hasTaskZS) {\n                    returnTask._zoneDelegates.push(this._hasTaskDlgtOwner);\n                }\n                // clang-format off\n                returnTask = this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt, this._scheduleTaskCurrZone, targetZone, task);\n                // clang-format on\n                if (!returnTask)\n                    returnTask = task;\n            }\n            else {\n                if (task.scheduleFn) {\n                    task.scheduleFn(task);\n                }\n                else if (task.type == microTask) {\n                    scheduleMicroTask(task);\n                }\n                else {\n                    throw new Error('Task is missing scheduleFn.');\n                }\n            }\n            return returnTask;\n        }\n        invokeTask(targetZone, task, applyThis, applyArgs) {\n            return this._invokeTaskZS ? this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt, this._invokeTaskCurrZone, targetZone, task, applyThis, applyArgs) :\n                task.callback.apply(applyThis, applyArgs);\n        }\n        cancelTask(targetZone, task) {\n            let value;\n            if (this._cancelTaskZS) {\n                value = this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt, this._cancelTaskCurrZone, targetZone, task);\n            }\n            else {\n                if (!task.cancelFn) {\n                    throw Error('Task is not cancelable');\n                }\n                value = task.cancelFn(task);\n            }\n            return value;\n        }\n        hasTask(targetZone, isEmpty) {\n            // hasTask should not throw error so other ZoneDelegate\n            // can still trigger hasTask callback\n            try {\n                this._hasTaskZS &&\n                    this._hasTaskZS.onHasTask(this._hasTaskDlgt, this._hasTaskCurrZone, targetZone, isEmpty);\n            }\n            catch (err) {\n                this.handleError(targetZone, err);\n            }\n        }\n        // tslint:disable-next-line:require-internal-with-underscore\n        _updateTaskCount(type, count) {\n            const counts = this._taskCounts;\n            const prev = counts[type];\n            const next = counts[type] = prev + count;\n            if (next < 0) {\n                throw new Error('More tasks executed then were scheduled.');\n            }\n            if (prev == 0 || next == 0) {\n                const isEmpty = {\n                    microTask: counts['microTask'] > 0,\n                    macroTask: counts['macroTask'] > 0,\n                    eventTask: counts['eventTask'] > 0,\n                    change: type\n                };\n                this.hasTask(this.zone, isEmpty);\n            }\n        }\n    }\n    class ZoneTask {\n        constructor(type, source, callback, options, scheduleFn, cancelFn) {\n            // tslint:disable-next-line:require-internal-with-underscore\n            this._zone = null;\n            this.runCount = 0;\n            // tslint:disable-next-line:require-internal-with-underscore\n            this._zoneDelegates = null;\n            // tslint:disable-next-line:require-internal-with-underscore\n            this._state = 'notScheduled';\n            this.type = type;\n            this.source = source;\n            this.data = options;\n            this.scheduleFn = scheduleFn;\n            this.cancelFn = cancelFn;\n            if (!callback) {\n                throw new Error('callback is not defined');\n            }\n            this.callback = callback;\n            const self = this;\n            // TODO: @JiaLiPassion options should have interface\n            if (type === eventTask && options && options.useG) {\n                this.invoke = ZoneTask.invokeTask;\n            }\n            else {\n                this.invoke = function () {\n                    return ZoneTask.invokeTask.call(global, self, this, arguments);\n                };\n            }\n        }\n        static invokeTask(task, target, args) {\n            if (!task) {\n                task = this;\n            }\n            _numberOfNestedTaskFrames++;\n            try {\n                task.runCount++;\n                return task.zone.runTask(task, target, args);\n            }\n            finally {\n                if (_numberOfNestedTaskFrames == 1) {\n                    drainMicroTaskQueue();\n                }\n                _numberOfNestedTaskFrames--;\n            }\n        }\n        get zone() {\n            return this._zone;\n        }\n        get state() {\n            return this._state;\n        }\n        cancelScheduleRequest() {\n            this._transitionTo(notScheduled, scheduling);\n        }\n        // tslint:disable-next-line:require-internal-with-underscore\n        _transitionTo(toState, fromState1, fromState2) {\n            if (this._state === fromState1 || this._state === fromState2) {\n                this._state = toState;\n                if (toState == notScheduled) {\n                    this._zoneDelegates = null;\n                }\n            }\n            else {\n                throw new Error(`${this.type} '${this.source}': can not transition to '${toState}', expecting state '${fromState1}'${fromState2 ? ' or \\'' + fromState2 + '\\'' : ''}, was '${this._state}'.`);\n            }\n        }\n        toString() {\n            if (this.data && typeof this.data.handleId !== 'undefined') {\n                return this.data.handleId.toString();\n            }\n            else {\n                return Object.prototype.toString.call(this);\n            }\n        }\n        // add toJSON method to prevent cyclic error when\n        // call JSON.stringify(zoneTask)\n        toJSON() {\n            return {\n                type: this.type,\n                state: this.state,\n                source: this.source,\n                zone: this.zone.name,\n                runCount: this.runCount\n            };\n        }\n    }\n    //////////////////////////////////////////////////////\n    //////////////////////////////////////////////////////\n    ///  MICROTASK QUEUE\n    //////////////////////////////////////////////////////\n    //////////////////////////////////////////////////////\n    const symbolSetTimeout = __symbol__('setTimeout');\n    const symbolPromise = __symbol__('Promise');\n    const symbolThen = __symbol__('then');\n    let _microTaskQueue = [];\n    let _isDrainingMicrotaskQueue = false;\n    let nativeMicroTaskQueuePromise;\n    function scheduleMicroTask(task) {\n        // if we are not running in any task, and there has not been anything scheduled\n        // we must bootstrap the initial task creation by manually scheduling the drain\n        if (_numberOfNestedTaskFrames === 0 && _microTaskQueue.length === 0) {\n            // We are not running in Task, so we need to kickstart the microtask queue.\n            if (!nativeMicroTaskQueuePromise) {\n                if (global[symbolPromise]) {\n                    nativeMicroTaskQueuePromise = global[symbolPromise].resolve(0);\n                }\n            }\n            if (nativeMicroTaskQueuePromise) {\n                let nativeThen = nativeMicroTaskQueuePromise[symbolThen];\n                if (!nativeThen) {\n                    // native Promise is not patchable, we need to use `then` directly\n                    // issue 1078\n                    nativeThen = nativeMicroTaskQueuePromise['then'];\n                }\n                nativeThen.call(nativeMicroTaskQueuePromise, drainMicroTaskQueue);\n            }\n            else {\n                global[symbolSetTimeout](drainMicroTaskQueue, 0);\n            }\n        }\n        task && _microTaskQueue.push(task);\n    }\n    function drainMicroTaskQueue() {\n        if (!_isDrainingMicrotaskQueue) {\n            _isDrainingMicrotaskQueue = true;\n            while (_microTaskQueue.length) {\n                const queue = _microTaskQueue;\n                _microTaskQueue = [];\n                for (let i = 0; i < queue.length; i++) {\n                    const task = queue[i];\n                    try {\n                        task.zone.runTask(task, null, null);\n                    }\n                    catch (error) {\n                        _api.onUnhandledError(error);\n                    }\n                }\n            }\n            _api.microtaskDrainDone();\n            _isDrainingMicrotaskQueue = false;\n        }\n    }\n    //////////////////////////////////////////////////////\n    //////////////////////////////////////////////////////\n    ///  BOOTSTRAP\n    //////////////////////////////////////////////////////\n    //////////////////////////////////////////////////////\n    const NO_ZONE = { name: 'NO ZONE' };\n    const notScheduled = 'notScheduled', scheduling = 'scheduling', scheduled = 'scheduled', running = 'running', canceling = 'canceling', unknown = 'unknown';\n    const microTask = 'microTask', macroTask = 'macroTask', eventTask = 'eventTask';\n    const patches = {};\n    const _api = {\n        symbol: __symbol__,\n        currentZoneFrame: () => _currentZoneFrame,\n        onUnhandledError: noop,\n        microtaskDrainDone: noop,\n        scheduleMicroTask: scheduleMicroTask,\n        showUncaughtError: () => !Zone[__symbol__('ignoreConsoleErrorUncaughtError')],\n        patchEventTarget: () => [],\n        patchOnProperties: noop,\n        patchMethod: () => noop,\n        bindArguments: () => [],\n        patchThen: () => noop,\n        patchMacroTask: () => noop,\n        patchEventPrototype: () => noop,\n        isIEOrEdge: () => false,\n        getGlobalObjects: () => undefined,\n        ObjectDefineProperty: () => noop,\n        ObjectGetOwnPropertyDescriptor: () => undefined,\n        ObjectCreate: () => undefined,\n        ArraySlice: () => [],\n        patchClass: () => noop,\n        wrapWithCurrentZone: () => noop,\n        filterProperties: () => [],\n        attachOriginToPatched: () => noop,\n        _redefineProperty: () => noop,\n        patchCallbacks: () => noop\n    };\n    let _currentZoneFrame = { parent: null, zone: new Zone(null, null) };\n    let _currentTask = null;\n    let _numberOfNestedTaskFrames = 0;\n    function noop() { }\n    performanceMeasure('Zone', 'Zone');\n    return global['Zone'] = Zone;\n})(typeof window !== 'undefined' && window || typeof self !== 'undefined' && self || global);\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Suppress closure compiler errors about unknown 'Zone' variable\n * @fileoverview\n * @suppress {undefinedVars,globalThis,missingRequire}\n */\n/// <reference types=\"node\"/>\n// issue #989, to reduce bundle size, use short name\n/** Object.getOwnPropertyDescriptor */\nconst ObjectGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n/** Object.defineProperty */\nconst ObjectDefineProperty = Object.defineProperty;\n/** Object.getPrototypeOf */\nconst ObjectGetPrototypeOf = Object.getPrototypeOf;\n/** Object.create */\nconst ObjectCreate = Object.create;\n/** Array.prototype.slice */\nconst ArraySlice = Array.prototype.slice;\n/** addEventListener string const */\nconst ADD_EVENT_LISTENER_STR = 'addEventListener';\n/** removeEventListener string const */\nconst REMOVE_EVENT_LISTENER_STR = 'removeEventListener';\n/** zoneSymbol addEventListener */\nconst ZONE_SYMBOL_ADD_EVENT_LISTENER = Zone.__symbol__(ADD_EVENT_LISTENER_STR);\n/** zoneSymbol removeEventListener */\nconst ZONE_SYMBOL_REMOVE_EVENT_LISTENER = Zone.__symbol__(REMOVE_EVENT_LISTENER_STR);\n/** true string const */\nconst TRUE_STR = 'true';\n/** false string const */\nconst FALSE_STR = 'false';\n/** Zone symbol prefix string const. */\nconst ZONE_SYMBOL_PREFIX = Zone.__symbol__('');\nfunction wrapWithCurrentZone(callback, source) {\n    return Zone.current.wrap(callback, source);\n}\nfunction scheduleMacroTaskWithCurrentZone(source, callback, data, customSchedule, customCancel) {\n    return Zone.current.scheduleMacroTask(source, callback, data, customSchedule, customCancel);\n}\nconst zoneSymbol = Zone.__symbol__;\nconst isWindowExists = typeof window !== 'undefined';\nconst internalWindow = isWindowExists ? window : undefined;\nconst _global = isWindowExists && internalWindow || typeof self === 'object' && self || global;\nconst REMOVE_ATTRIBUTE = 'removeAttribute';\nconst NULL_ON_PROP_VALUE = [null];\nfunction bindArguments(args, source) {\n    for (let i = args.length - 1; i >= 0; i--) {\n        if (typeof args[i] === 'function') {\n            args[i] = wrapWithCurrentZone(args[i], source + '_' + i);\n        }\n    }\n    return args;\n}\nfunction patchPrototype(prototype, fnNames) {\n    const source = prototype.constructor['name'];\n    for (let i = 0; i < fnNames.length; i++) {\n        const name = fnNames[i];\n        const delegate = prototype[name];\n        if (delegate) {\n            const prototypeDesc = ObjectGetOwnPropertyDescriptor(prototype, name);\n            if (!isPropertyWritable(prototypeDesc)) {\n                continue;\n            }\n            prototype[name] = ((delegate) => {\n                const patched = function () {\n                    return delegate.apply(this, bindArguments(arguments, source + '.' + name));\n                };\n                attachOriginToPatched(patched, delegate);\n                return patched;\n            })(delegate);\n        }\n    }\n}\nfunction isPropertyWritable(propertyDesc) {\n    if (!propertyDesc) {\n        return true;\n    }\n    if (propertyDesc.writable === false) {\n        return false;\n    }\n    return !(typeof propertyDesc.get === 'function' && typeof propertyDesc.set === 'undefined');\n}\nconst isWebWorker = (typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope);\n// Make sure to access `process` through `_global` so that WebPack does not accidentally browserify\n// this code.\nconst isNode = (!('nw' in _global) && typeof _global.process !== 'undefined' &&\n    {}.toString.call(_global.process) === '[object process]');\nconst isBrowser = !isNode && !isWebWorker && !!(isWindowExists && internalWindow['HTMLElement']);\n// we are in electron of nw, so we are both browser and nodejs\n// Make sure to access `process` through `_global` so that WebPack does not accidentally browserify\n// this code.\nconst isMix = typeof _global.process !== 'undefined' &&\n    {}.toString.call(_global.process) === '[object process]' && !isWebWorker &&\n    !!(isWindowExists && internalWindow['HTMLElement']);\nconst zoneSymbolEventNames = {};\nconst wrapFn = function (event) {\n    // https://github.com/angular/zone.js/issues/911, in IE, sometimes\n    // event will be undefined, so we need to use window.event\n    event = event || _global.event;\n    if (!event) {\n        return;\n    }\n    let eventNameSymbol = zoneSymbolEventNames[event.type];\n    if (!eventNameSymbol) {\n        eventNameSymbol = zoneSymbolEventNames[event.type] = zoneSymbol('ON_PROPERTY' + event.type);\n    }\n    const target = this || event.target || _global;\n    const listener = target[eventNameSymbol];\n    let result;\n    if (isBrowser && target === internalWindow && event.type === 'error') {\n        // window.onerror have different signiture\n        // https://developer.mozilla.org/en-US/docs/Web/API/GlobalEventHandlers/onerror#window.onerror\n        // and onerror callback will prevent default when callback return true\n        const errorEvent = event;\n        result = listener &&\n            listener.call(this, errorEvent.message, errorEvent.filename, errorEvent.lineno, errorEvent.colno, errorEvent.error);\n        if (result === true) {\n            event.preventDefault();\n        }\n    }\n    else {\n        result = listener && listener.apply(this, arguments);\n        if (result != undefined && !result) {\n            event.preventDefault();\n        }\n    }\n    return result;\n};\nfunction patchProperty(obj, prop, prototype) {\n    let desc = ObjectGetOwnPropertyDescriptor(obj, prop);\n    if (!desc && prototype) {\n        // when patch window object, use prototype to check prop exist or not\n        const prototypeDesc = ObjectGetOwnPropertyDescriptor(prototype, prop);\n        if (prototypeDesc) {\n            desc = { enumerable: true, configurable: true };\n        }\n    }\n    // if the descriptor not exists or is not configurable\n    // just return\n    if (!desc || !desc.configurable) {\n        return;\n    }\n    const onPropPatchedSymbol = zoneSymbol('on' + prop + 'patched');\n    if (obj.hasOwnProperty(onPropPatchedSymbol) && obj[onPropPatchedSymbol]) {\n        return;\n    }\n    // A property descriptor cannot have getter/setter and be writable\n    // deleting the writable and value properties avoids this error:\n    //\n    // TypeError: property descriptors must not specify a value or be writable when a\n    // getter or setter has been specified\n    delete desc.writable;\n    delete desc.value;\n    const originalDescGet = desc.get;\n    const originalDescSet = desc.set;\n    // substr(2) cuz 'onclick' -> 'click', etc\n    const eventName = prop.substr(2);\n    let eventNameSymbol = zoneSymbolEventNames[eventName];\n    if (!eventNameSymbol) {\n        eventNameSymbol = zoneSymbolEventNames[eventName] = zoneSymbol('ON_PROPERTY' + eventName);\n    }\n    desc.set = function (newValue) {\n        // in some of windows's onproperty callback, this is undefined\n        // so we need to check it\n        let target = this;\n        if (!target && obj === _global) {\n            target = _global;\n        }\n        if (!target) {\n            return;\n        }\n        let previousValue = target[eventNameSymbol];\n        if (previousValue) {\n            target.removeEventListener(eventName, wrapFn);\n        }\n        // issue #978, when onload handler was added before loading zone.js\n        // we should remove it with originalDescSet\n        if (originalDescSet) {\n            originalDescSet.apply(target, NULL_ON_PROP_VALUE);\n        }\n        if (typeof newValue === 'function') {\n            target[eventNameSymbol] = newValue;\n            target.addEventListener(eventName, wrapFn, false);\n        }\n        else {\n            target[eventNameSymbol] = null;\n        }\n    };\n    // The getter would return undefined for unassigned properties but the default value of an\n    // unassigned property is null\n    desc.get = function () {\n        // in some of windows's onproperty callback, this is undefined\n        // so we need to check it\n        let target = this;\n        if (!target && obj === _global) {\n            target = _global;\n        }\n        if (!target) {\n            return null;\n        }\n        const listener = target[eventNameSymbol];\n        if (listener) {\n            return listener;\n        }\n        else if (originalDescGet) {\n            // result will be null when use inline event attribute,\n            // such as <button onclick=\"func();\">OK</button>\n            // because the onclick function is internal raw uncompiled handler\n            // the onclick will be evaluated when first time event was triggered or\n            // the property is accessed, https://github.com/angular/zone.js/issues/525\n            // so we should use original native get to retrieve the handler\n            let value = originalDescGet && originalDescGet.call(this);\n            if (value) {\n                desc.set.call(this, value);\n                if (typeof target[REMOVE_ATTRIBUTE] === 'function') {\n                    target.removeAttribute(prop);\n                }\n                return value;\n            }\n        }\n        return null;\n    };\n    ObjectDefineProperty(obj, prop, desc);\n    obj[onPropPatchedSymbol] = true;\n}\nfunction patchOnProperties(obj, properties, prototype) {\n    if (properties) {\n        for (let i = 0; i < properties.length; i++) {\n            patchProperty(obj, 'on' + properties[i], prototype);\n        }\n    }\n    else {\n        const onProperties = [];\n        for (const prop in obj) {\n            if (prop.substr(0, 2) == 'on') {\n                onProperties.push(prop);\n            }\n        }\n        for (let j = 0; j < onProperties.length; j++) {\n            patchProperty(obj, onProperties[j], prototype);\n        }\n    }\n}\nconst originalInstanceKey = zoneSymbol('originalInstance');\n// wrap some native API on `window`\nfunction patchClass(className) {\n    const OriginalClass = _global[className];\n    if (!OriginalClass)\n        return;\n    // keep original class in global\n    _global[zoneSymbol(className)] = OriginalClass;\n    _global[className] = function () {\n        const a = bindArguments(arguments, className);\n        switch (a.length) {\n            case 0:\n                this[originalInstanceKey] = new OriginalClass();\n                break;\n            case 1:\n                this[originalInstanceKey] = new OriginalClass(a[0]);\n                break;\n            case 2:\n                this[originalInstanceKey] = new OriginalClass(a[0], a[1]);\n                break;\n            case 3:\n                this[originalInstanceKey] = new OriginalClass(a[0], a[1], a[2]);\n                break;\n            case 4:\n                this[originalInstanceKey] = new OriginalClass(a[0], a[1], a[2], a[3]);\n                break;\n            default:\n                throw new Error('Arg list too long.');\n        }\n    };\n    // attach original delegate to patched function\n    attachOriginToPatched(_global[className], OriginalClass);\n    const instance = new OriginalClass(function () { });\n    let prop;\n    for (prop in instance) {\n        // https://bugs.webkit.org/show_bug.cgi?id=44721\n        if (className === 'XMLHttpRequest' && prop === 'responseBlob')\n            continue;\n        (function (prop) {\n            if (typeof instance[prop] === 'function') {\n                _global[className].prototype[prop] = function () {\n                    return this[originalInstanceKey][prop].apply(this[originalInstanceKey], arguments);\n                };\n            }\n            else {\n                ObjectDefineProperty(_global[className].prototype, prop, {\n                    set: function (fn) {\n                        if (typeof fn === 'function') {\n                            this[originalInstanceKey][prop] = wrapWithCurrentZone(fn, className + '.' + prop);\n                            // keep callback in wrapped function so we can\n                            // use it in Function.prototype.toString to return\n                            // the native one.\n                            attachOriginToPatched(this[originalInstanceKey][prop], fn);\n                        }\n                        else {\n                            this[originalInstanceKey][prop] = fn;\n                        }\n                    },\n                    get: function () {\n                        return this[originalInstanceKey][prop];\n                    }\n                });\n            }\n        }(prop));\n    }\n    for (prop in OriginalClass) {\n        if (prop !== 'prototype' && OriginalClass.hasOwnProperty(prop)) {\n            _global[className][prop] = OriginalClass[prop];\n        }\n    }\n}\nfunction patchMethod(target, name, patchFn) {\n    let proto = target;\n    while (proto && !proto.hasOwnProperty(name)) {\n        proto = ObjectGetPrototypeOf(proto);\n    }\n    if (!proto && target[name]) {\n        // somehow we did not find it, but we can see it. This happens on IE for Window properties.\n        proto = target;\n    }\n    const delegateName = zoneSymbol(name);\n    let delegate = null;\n    if (proto && (!(delegate = proto[delegateName]) || !proto.hasOwnProperty(delegateName))) {\n        delegate = proto[delegateName] = proto[name];\n        // check whether proto[name] is writable\n        // some property is readonly in safari, such as HtmlCanvasElement.prototype.toBlob\n        const desc = proto && ObjectGetOwnPropertyDescriptor(proto, name);\n        if (isPropertyWritable(desc)) {\n            const patchDelegate = patchFn(delegate, delegateName, name);\n            proto[name] = function () {\n                return patchDelegate(this, arguments);\n            };\n            attachOriginToPatched(proto[name], delegate);\n        }\n    }\n    return delegate;\n}\n// TODO: @JiaLiPassion, support cancel task later if necessary\nfunction patchMacroTask(obj, funcName, metaCreator) {\n    let setNative = null;\n    function scheduleTask(task) {\n        const data = task.data;\n        data.args[data.cbIdx] = function () {\n            task.invoke.apply(this, arguments);\n        };\n        setNative.apply(data.target, data.args);\n        return task;\n    }\n    setNative = patchMethod(obj, funcName, (delegate) => function (self, args) {\n        const meta = metaCreator(self, args);\n        if (meta.cbIdx >= 0 && typeof args[meta.cbIdx] === 'function') {\n            return scheduleMacroTaskWithCurrentZone(meta.name, args[meta.cbIdx], meta, scheduleTask);\n        }\n        else {\n            // cause an error by calling it directly.\n            return delegate.apply(self, args);\n        }\n    });\n}\nfunction attachOriginToPatched(patched, original) {\n    patched[zoneSymbol('OriginalDelegate')] = original;\n}\nlet isDetectedIEOrEdge = false;\nlet ieOrEdge = false;\nfunction isIE() {\n    try {\n        const ua = internalWindow.navigator.userAgent;\n        if (ua.indexOf('MSIE ') !== -1 || ua.indexOf('Trident/') !== -1) {\n            return true;\n        }\n    }\n    catch (error) {\n    }\n    return false;\n}\nfunction isIEOrEdge() {\n    if (isDetectedIEOrEdge) {\n        return ieOrEdge;\n    }\n    isDetectedIEOrEdge = true;\n    try {\n        const ua = internalWindow.navigator.userAgent;\n        if (ua.indexOf('MSIE ') !== -1 || ua.indexOf('Trident/') !== -1 || ua.indexOf('Edge/') !== -1) {\n            ieOrEdge = true;\n        }\n    }\n    catch (error) {\n    }\n    return ieOrEdge;\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nZone.__load_patch('ZoneAwarePromise', (global, Zone, api) => {\n    const ObjectGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n    const ObjectDefineProperty = Object.defineProperty;\n    function readableObjectToString(obj) {\n        if (obj && obj.toString === Object.prototype.toString) {\n            const className = obj.constructor && obj.constructor.name;\n            return (className ? className : '') + ': ' + JSON.stringify(obj);\n        }\n        return obj ? obj.toString() : Object.prototype.toString.call(obj);\n    }\n    const __symbol__ = api.symbol;\n    const _uncaughtPromiseErrors = [];\n    const isDisableWrappingUncaughtPromiseRejection = global[__symbol__('DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION')] === true;\n    const symbolPromise = __symbol__('Promise');\n    const symbolThen = __symbol__('then');\n    const creationTrace = '__creationTrace__';\n    api.onUnhandledError = (e) => {\n        if (api.showUncaughtError()) {\n            const rejection = e && e.rejection;\n            if (rejection) {\n                console.error('Unhandled Promise rejection:', rejection instanceof Error ? rejection.message : rejection, '; Zone:', e.zone.name, '; Task:', e.task && e.task.source, '; Value:', rejection, rejection instanceof Error ? rejection.stack : undefined);\n            }\n            else {\n                console.error(e);\n            }\n        }\n    };\n    api.microtaskDrainDone = () => {\n        while (_uncaughtPromiseErrors.length) {\n            const uncaughtPromiseError = _uncaughtPromiseErrors.shift();\n            try {\n                uncaughtPromiseError.zone.runGuarded(() => {\n                    if (uncaughtPromiseError.throwOriginal) {\n                        throw uncaughtPromiseError.rejection;\n                    }\n                    throw uncaughtPromiseError;\n                });\n            }\n            catch (error) {\n                handleUnhandledRejection(error);\n            }\n        }\n    };\n    const UNHANDLED_PROMISE_REJECTION_HANDLER_SYMBOL = __symbol__('unhandledPromiseRejectionHandler');\n    function handleUnhandledRejection(e) {\n        api.onUnhandledError(e);\n        try {\n            const handler = Zone[UNHANDLED_PROMISE_REJECTION_HANDLER_SYMBOL];\n            if (typeof handler === 'function') {\n                handler.call(this, e);\n            }\n        }\n        catch (err) {\n        }\n    }\n    function isThenable(value) {\n        return value && value.then;\n    }\n    function forwardResolution(value) {\n        return value;\n    }\n    function forwardRejection(rejection) {\n        return ZoneAwarePromise.reject(rejection);\n    }\n    const symbolState = __symbol__('state');\n    const symbolValue = __symbol__('value');\n    const symbolFinally = __symbol__('finally');\n    const symbolParentPromiseValue = __symbol__('parentPromiseValue');\n    const symbolParentPromiseState = __symbol__('parentPromiseState');\n    const source = 'Promise.then';\n    const UNRESOLVED = null;\n    const RESOLVED = true;\n    const REJECTED = false;\n    const REJECTED_NO_CATCH = 0;\n    function makeResolver(promise, state) {\n        return (v) => {\n            try {\n                resolvePromise(promise, state, v);\n            }\n            catch (err) {\n                resolvePromise(promise, false, err);\n            }\n            // Do not return value or you will break the Promise spec.\n        };\n    }\n    const once = function () {\n        let wasCalled = false;\n        return function wrapper(wrappedFunction) {\n            return function () {\n                if (wasCalled) {\n                    return;\n                }\n                wasCalled = true;\n                wrappedFunction.apply(null, arguments);\n            };\n        };\n    };\n    const TYPE_ERROR = 'Promise resolved with itself';\n    const CURRENT_TASK_TRACE_SYMBOL = __symbol__('currentTaskTrace');\n    // Promise Resolution\n    function resolvePromise(promise, state, value) {\n        const onceWrapper = once();\n        if (promise === value) {\n            throw new TypeError(TYPE_ERROR);\n        }\n        if (promise[symbolState] === UNRESOLVED) {\n            // should only get value.then once based on promise spec.\n            let then = null;\n            try {\n                if (typeof value === 'object' || typeof value === 'function') {\n                    then = value && value.then;\n                }\n            }\n            catch (err) {\n                onceWrapper(() => {\n                    resolvePromise(promise, false, err);\n                })();\n                return promise;\n            }\n            // if (value instanceof ZoneAwarePromise) {\n            if (state !== REJECTED && value instanceof ZoneAwarePromise &&\n                value.hasOwnProperty(symbolState) && value.hasOwnProperty(symbolValue) &&\n                value[symbolState] !== UNRESOLVED) {\n                clearRejectedNoCatch(value);\n                resolvePromise(promise, value[symbolState], value[symbolValue]);\n            }\n            else if (state !== REJECTED && typeof then === 'function') {\n                try {\n                    then.call(value, onceWrapper(makeResolver(promise, state)), onceWrapper(makeResolver(promise, false)));\n                }\n                catch (err) {\n                    onceWrapper(() => {\n                        resolvePromise(promise, false, err);\n                    })();\n                }\n            }\n            else {\n                promise[symbolState] = state;\n                const queue = promise[symbolValue];\n                promise[symbolValue] = value;\n                if (promise[symbolFinally] === symbolFinally) {\n                    // the promise is generated by Promise.prototype.finally\n                    if (state === RESOLVED) {\n                        // the state is resolved, should ignore the value\n                        // and use parent promise value\n                        promise[symbolState] = promise[symbolParentPromiseState];\n                        promise[symbolValue] = promise[symbolParentPromiseValue];\n                    }\n                }\n                // record task information in value when error occurs, so we can\n                // do some additional work such as render longStackTrace\n                if (state === REJECTED && value instanceof Error) {\n                    // check if longStackTraceZone is here\n                    const trace = Zone.currentTask && Zone.currentTask.data &&\n                        Zone.currentTask.data[creationTrace];\n                    if (trace) {\n                        // only keep the long stack trace into error when in longStackTraceZone\n                        ObjectDefineProperty(value, CURRENT_TASK_TRACE_SYMBOL, { configurable: true, enumerable: false, writable: true, value: trace });\n                    }\n                }\n                for (let i = 0; i < queue.length;) {\n                    scheduleResolveOrReject(promise, queue[i++], queue[i++], queue[i++], queue[i++]);\n                }\n                if (queue.length == 0 && state == REJECTED) {\n                    promise[symbolState] = REJECTED_NO_CATCH;\n                    let uncaughtPromiseError = value;\n                    try {\n                        // Here we throws a new Error to print more readable error log\n                        // and if the value is not an error, zone.js builds an `Error`\n                        // Object here to attach the stack information.\n                        throw new Error('Uncaught (in promise): ' + readableObjectToString(value) +\n                            (value && value.stack ? '\\n' + value.stack : ''));\n                    }\n                    catch (err) {\n                        uncaughtPromiseError = err;\n                    }\n                    if (isDisableWrappingUncaughtPromiseRejection) {\n                        // If disable wrapping uncaught promise reject\n                        // use the value instead of wrapping it.\n                        uncaughtPromiseError.throwOriginal = true;\n                    }\n                    uncaughtPromiseError.rejection = value;\n                    uncaughtPromiseError.promise = promise;\n                    uncaughtPromiseError.zone = Zone.current;\n                    uncaughtPromiseError.task = Zone.currentTask;\n                    _uncaughtPromiseErrors.push(uncaughtPromiseError);\n                    api.scheduleMicroTask(); // to make sure that it is running\n                }\n            }\n        }\n        // Resolving an already resolved promise is a noop.\n        return promise;\n    }\n    const REJECTION_HANDLED_HANDLER = __symbol__('rejectionHandledHandler');\n    function clearRejectedNoCatch(promise) {\n        if (promise[symbolState] === REJECTED_NO_CATCH) {\n            // if the promise is rejected no catch status\n            // and queue.length > 0, means there is a error handler\n            // here to handle the rejected promise, we should trigger\n            // windows.rejectionhandled eventHandler or nodejs rejectionHandled\n            // eventHandler\n            try {\n                const handler = Zone[REJECTION_HANDLED_HANDLER];\n                if (handler && typeof handler === 'function') {\n                    handler.call(this, { rejection: promise[symbolValue], promise: promise });\n                }\n            }\n            catch (err) {\n            }\n            promise[symbolState] = REJECTED;\n            for (let i = 0; i < _uncaughtPromiseErrors.length; i++) {\n                if (promise === _uncaughtPromiseErrors[i].promise) {\n                    _uncaughtPromiseErrors.splice(i, 1);\n                }\n            }\n        }\n    }\n    function scheduleResolveOrReject(promise, zone, chainPromise, onFulfilled, onRejected) {\n        clearRejectedNoCatch(promise);\n        const promiseState = promise[symbolState];\n        const delegate = promiseState ?\n            (typeof onFulfilled === 'function') ? onFulfilled : forwardResolution :\n            (typeof onRejected === 'function') ? onRejected : forwardRejection;\n        zone.scheduleMicroTask(source, () => {\n            try {\n                const parentPromiseValue = promise[symbolValue];\n                const isFinallyPromise = !!chainPromise && symbolFinally === chainPromise[symbolFinally];\n                if (isFinallyPromise) {\n                    // if the promise is generated from finally call, keep parent promise's state and value\n                    chainPromise[symbolParentPromiseValue] = parentPromiseValue;\n                    chainPromise[symbolParentPromiseState] = promiseState;\n                }\n                // should not pass value to finally callback\n                const value = zone.run(delegate, undefined, isFinallyPromise && delegate !== forwardRejection && delegate !== forwardResolution ?\n                    [] :\n                    [parentPromiseValue]);\n                resolvePromise(chainPromise, true, value);\n            }\n            catch (error) {\n                // if error occurs, should always return this error\n                resolvePromise(chainPromise, false, error);\n            }\n        }, chainPromise);\n    }\n    const ZONE_AWARE_PROMISE_TO_STRING = 'function ZoneAwarePromise() { [native code] }';\n    const noop = function () { };\n    class ZoneAwarePromise {\n        static toString() {\n            return ZONE_AWARE_PROMISE_TO_STRING;\n        }\n        static resolve(value) {\n            return resolvePromise(new this(null), RESOLVED, value);\n        }\n        static reject(error) {\n            return resolvePromise(new this(null), REJECTED, error);\n        }\n        static race(values) {\n            let resolve;\n            let reject;\n            let promise = new this((res, rej) => {\n                resolve = res;\n                reject = rej;\n            });\n            function onResolve(value) {\n                resolve(value);\n            }\n            function onReject(error) {\n                reject(error);\n            }\n            for (let value of values) {\n                if (!isThenable(value)) {\n                    value = this.resolve(value);\n                }\n                value.then(onResolve, onReject);\n            }\n            return promise;\n        }\n        static all(values) {\n            return ZoneAwarePromise.allWithCallback(values);\n        }\n        static allSettled(values) {\n            const P = this && this.prototype instanceof ZoneAwarePromise ? this : ZoneAwarePromise;\n            return P.allWithCallback(values, {\n                thenCallback: (value) => ({ status: 'fulfilled', value }),\n                errorCallback: (err) => ({ status: 'rejected', reason: err })\n            });\n        }\n        static allWithCallback(values, callback) {\n            let resolve;\n            let reject;\n            let promise = new this((res, rej) => {\n                resolve = res;\n                reject = rej;\n            });\n            // Start at 2 to prevent prematurely resolving if .then is called immediately.\n            let unresolvedCount = 2;\n            let valueIndex = 0;\n            const resolvedValues = [];\n            for (let value of values) {\n                if (!isThenable(value)) {\n                    value = this.resolve(value);\n                }\n                const curValueIndex = valueIndex;\n                try {\n                    value.then((value) => {\n                        resolvedValues[curValueIndex] = callback ? callback.thenCallback(value) : value;\n                        unresolvedCount--;\n                        if (unresolvedCount === 0) {\n                            resolve(resolvedValues);\n                        }\n                    }, (err) => {\n                        if (!callback) {\n                            reject(err);\n                        }\n                        else {\n                            resolvedValues[curValueIndex] = callback.errorCallback(err);\n                            unresolvedCount--;\n                            if (unresolvedCount === 0) {\n                                resolve(resolvedValues);\n                            }\n                        }\n                    });\n                }\n                catch (thenErr) {\n                    reject(thenErr);\n                }\n                unresolvedCount++;\n                valueIndex++;\n            }\n            // Make the unresolvedCount zero-based again.\n            unresolvedCount -= 2;\n            if (unresolvedCount === 0) {\n                resolve(resolvedValues);\n            }\n            return promise;\n        }\n        constructor(executor) {\n            const promise = this;\n            if (!(promise instanceof ZoneAwarePromise)) {\n                throw new Error('Must be an instanceof Promise.');\n            }\n            promise[symbolState] = UNRESOLVED;\n            promise[symbolValue] = []; // queue;\n            try {\n                executor && executor(makeResolver(promise, RESOLVED), makeResolver(promise, REJECTED));\n            }\n            catch (error) {\n                resolvePromise(promise, false, error);\n            }\n        }\n        get [Symbol.toStringTag]() {\n            return 'Promise';\n        }\n        get [Symbol.species]() {\n            return ZoneAwarePromise;\n        }\n        then(onFulfilled, onRejected) {\n            let C = this.constructor[Symbol.species];\n            if (!C || typeof C !== 'function') {\n                C = this.constructor || ZoneAwarePromise;\n            }\n            const chainPromise = new C(noop);\n            const zone = Zone.current;\n            if (this[symbolState] == UNRESOLVED) {\n                this[symbolValue].push(zone, chainPromise, onFulfilled, onRejected);\n            }\n            else {\n                scheduleResolveOrReject(this, zone, chainPromise, onFulfilled, onRejected);\n            }\n            return chainPromise;\n        }\n        catch(onRejected) {\n            return this.then(null, onRejected);\n        }\n        finally(onFinally) {\n            let C = this.constructor[Symbol.species];\n            if (!C || typeof C !== 'function') {\n                C = ZoneAwarePromise;\n            }\n            const chainPromise = new C(noop);\n            chainPromise[symbolFinally] = symbolFinally;\n            const zone = Zone.current;\n            if (this[symbolState] == UNRESOLVED) {\n                this[symbolValue].push(zone, chainPromise, onFinally, onFinally);\n            }\n            else {\n                scheduleResolveOrReject(this, zone, chainPromise, onFinally, onFinally);\n            }\n            return chainPromise;\n        }\n    }\n    // Protect against aggressive optimizers dropping seemingly unused properties.\n    // E.g. Closure Compiler in advanced mode.\n    ZoneAwarePromise['resolve'] = ZoneAwarePromise.resolve;\n    ZoneAwarePromise['reject'] = ZoneAwarePromise.reject;\n    ZoneAwarePromise['race'] = ZoneAwarePromise.race;\n    ZoneAwarePromise['all'] = ZoneAwarePromise.all;\n    const NativePromise = global[symbolPromise] = global['Promise'];\n    global['Promise'] = ZoneAwarePromise;\n    const symbolThenPatched = __symbol__('thenPatched');\n    function patchThen(Ctor) {\n        const proto = Ctor.prototype;\n        const prop = ObjectGetOwnPropertyDescriptor(proto, 'then');\n        if (prop && (prop.writable === false || !prop.configurable)) {\n            // check Ctor.prototype.then propertyDescriptor is writable or not\n            // in meteor env, writable is false, we should ignore such case\n            return;\n        }\n        const originalThen = proto.then;\n        // Keep a reference to the original method.\n        proto[symbolThen] = originalThen;\n        Ctor.prototype.then = function (onResolve, onReject) {\n            const wrapped = new ZoneAwarePromise((resolve, reject) => {\n                originalThen.call(this, resolve, reject);\n            });\n            return wrapped.then(onResolve, onReject);\n        };\n        Ctor[symbolThenPatched] = true;\n    }\n    api.patchThen = patchThen;\n    function zoneify(fn) {\n        return function (self, args) {\n            let resultPromise = fn.apply(self, args);\n            if (resultPromise instanceof ZoneAwarePromise) {\n                return resultPromise;\n            }\n            let ctor = resultPromise.constructor;\n            if (!ctor[symbolThenPatched]) {\n                patchThen(ctor);\n            }\n            return resultPromise;\n        };\n    }\n    if (NativePromise) {\n        patchThen(NativePromise);\n        patchMethod(global, 'fetch', delegate => zoneify(delegate));\n    }\n    // This is not part of public API, but it is useful for tests, so we expose it.\n    Promise[Zone.__symbol__('uncaughtPromiseErrors')] = _uncaughtPromiseErrors;\n    return ZoneAwarePromise;\n});\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n// override Function.prototype.toString to make zone.js patched function\n// look like native function\nZone.__load_patch('toString', (global) => {\n    // patch Func.prototype.toString to let them look like native\n    const originalFunctionToString = Function.prototype.toString;\n    const ORIGINAL_DELEGATE_SYMBOL = zoneSymbol('OriginalDelegate');\n    const PROMISE_SYMBOL = zoneSymbol('Promise');\n    const ERROR_SYMBOL = zoneSymbol('Error');\n    const newFunctionToString = function toString() {\n        if (typeof this === 'function') {\n            const originalDelegate = this[ORIGINAL_DELEGATE_SYMBOL];\n            if (originalDelegate) {\n                if (typeof originalDelegate === 'function') {\n                    return originalFunctionToString.call(originalDelegate);\n                }\n                else {\n                    return Object.prototype.toString.call(originalDelegate);\n                }\n            }\n            if (this === Promise) {\n                const nativePromise = global[PROMISE_SYMBOL];\n                if (nativePromise) {\n                    return originalFunctionToString.call(nativePromise);\n                }\n            }\n            if (this === Error) {\n                const nativeError = global[ERROR_SYMBOL];\n                if (nativeError) {\n                    return originalFunctionToString.call(nativeError);\n                }\n            }\n        }\n        return originalFunctionToString.call(this);\n    };\n    newFunctionToString[ORIGINAL_DELEGATE_SYMBOL] = originalFunctionToString;\n    Function.prototype.toString = newFunctionToString;\n    // patch Object.prototype.toString to let them look like native\n    const originalObjectToString = Object.prototype.toString;\n    const PROMISE_OBJECT_TO_STRING = '[object Promise]';\n    Object.prototype.toString = function () {\n        if (typeof Promise === 'function' && this instanceof Promise) {\n            return PROMISE_OBJECT_TO_STRING;\n        }\n        return originalObjectToString.call(this);\n    };\n});\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nlet passiveSupported = false;\nif (typeof window !== 'undefined') {\n    try {\n        const options = Object.defineProperty({}, 'passive', {\n            get: function () {\n                passiveSupported = true;\n            }\n        });\n        window.addEventListener('test', options, options);\n        window.removeEventListener('test', options, options);\n    }\n    catch (err) {\n        passiveSupported = false;\n    }\n}\n// an identifier to tell ZoneTask do not create a new invoke closure\nconst OPTIMIZED_ZONE_EVENT_TASK_DATA = {\n    useG: true\n};\nconst zoneSymbolEventNames$1 = {};\nconst globalSources = {};\nconst EVENT_NAME_SYMBOL_REGX = new RegExp('^' + ZONE_SYMBOL_PREFIX + '(\\\\w+)(true|false)$');\nconst IMMEDIATE_PROPAGATION_SYMBOL = zoneSymbol('propagationStopped');\nfunction prepareEventNames(eventName, eventNameToString) {\n    const falseEventName = (eventNameToString ? eventNameToString(eventName) : eventName) + FALSE_STR;\n    const trueEventName = (eventNameToString ? eventNameToString(eventName) : eventName) + TRUE_STR;\n    const symbol = ZONE_SYMBOL_PREFIX + falseEventName;\n    const symbolCapture = ZONE_SYMBOL_PREFIX + trueEventName;\n    zoneSymbolEventNames$1[eventName] = {};\n    zoneSymbolEventNames$1[eventName][FALSE_STR] = symbol;\n    zoneSymbolEventNames$1[eventName][TRUE_STR] = symbolCapture;\n}\nfunction patchEventTarget(_global, apis, patchOptions) {\n    const ADD_EVENT_LISTENER = (patchOptions && patchOptions.add) || ADD_EVENT_LISTENER_STR;\n    const REMOVE_EVENT_LISTENER = (patchOptions && patchOptions.rm) || REMOVE_EVENT_LISTENER_STR;\n    const LISTENERS_EVENT_LISTENER = (patchOptions && patchOptions.listeners) || 'eventListeners';\n    const REMOVE_ALL_LISTENERS_EVENT_LISTENER = (patchOptions && patchOptions.rmAll) || 'removeAllListeners';\n    const zoneSymbolAddEventListener = zoneSymbol(ADD_EVENT_LISTENER);\n    const ADD_EVENT_LISTENER_SOURCE = '.' + ADD_EVENT_LISTENER + ':';\n    const PREPEND_EVENT_LISTENER = 'prependListener';\n    const PREPEND_EVENT_LISTENER_SOURCE = '.' + PREPEND_EVENT_LISTENER + ':';\n    const invokeTask = function (task, target, event) {\n        // for better performance, check isRemoved which is set\n        // by removeEventListener\n        if (task.isRemoved) {\n            return;\n        }\n        const delegate = task.callback;\n        if (typeof delegate === 'object' && delegate.handleEvent) {\n            // create the bind version of handleEvent when invoke\n            task.callback = (event) => delegate.handleEvent(event);\n            task.originalDelegate = delegate;\n        }\n        // invoke static task.invoke\n        task.invoke(task, target, [event]);\n        const options = task.options;\n        if (options && typeof options === 'object' && options.once) {\n            // if options.once is true, after invoke once remove listener here\n            // only browser need to do this, nodejs eventEmitter will cal removeListener\n            // inside EventEmitter.once\n            const delegate = task.originalDelegate ? task.originalDelegate : task.callback;\n            target[REMOVE_EVENT_LISTENER].call(target, event.type, delegate, options);\n        }\n    };\n    // global shared zoneAwareCallback to handle all event callback with capture = false\n    const globalZoneAwareCallback = function (event) {\n        // https://github.com/angular/zone.js/issues/911, in IE, sometimes\n        // event will be undefined, so we need to use window.event\n        event = event || _global.event;\n        if (!event) {\n            return;\n        }\n        // event.target is needed for Samsung TV and SourceBuffer\n        // || global is needed https://github.com/angular/zone.js/issues/190\n        const target = this || event.target || _global;\n        const tasks = target[zoneSymbolEventNames$1[event.type][FALSE_STR]];\n        if (tasks) {\n            // invoke all tasks which attached to current target with given event.type and capture = false\n            // for performance concern, if task.length === 1, just invoke\n            if (tasks.length === 1) {\n                invokeTask(tasks[0], target, event);\n            }\n            else {\n                // https://github.com/angular/zone.js/issues/836\n                // copy the tasks array before invoke, to avoid\n                // the callback will remove itself or other listener\n                const copyTasks = tasks.slice();\n                for (let i = 0; i < copyTasks.length; i++) {\n                    if (event && event[IMMEDIATE_PROPAGATION_SYMBOL] === true) {\n                        break;\n                    }\n                    invokeTask(copyTasks[i], target, event);\n                }\n            }\n        }\n    };\n    // global shared zoneAwareCallback to handle all event callback with capture = true\n    const globalZoneAwareCaptureCallback = function (event) {\n        // https://github.com/angular/zone.js/issues/911, in IE, sometimes\n        // event will be undefined, so we need to use window.event\n        event = event || _global.event;\n        if (!event) {\n            return;\n        }\n        // event.target is needed for Samsung TV and SourceBuffer\n        // || global is needed https://github.com/angular/zone.js/issues/190\n        const target = this || event.target || _global;\n        const tasks = target[zoneSymbolEventNames$1[event.type][TRUE_STR]];\n        if (tasks) {\n            // invoke all tasks which attached to current target with given event.type and capture = false\n            // for performance concern, if task.length === 1, just invoke\n            if (tasks.length === 1) {\n                invokeTask(tasks[0], target, event);\n            }\n            else {\n                // https://github.com/angular/zone.js/issues/836\n                // copy the tasks array before invoke, to avoid\n                // the callback will remove itself or other listener\n                const copyTasks = tasks.slice();\n                for (let i = 0; i < copyTasks.length; i++) {\n                    if (event && event[IMMEDIATE_PROPAGATION_SYMBOL] === true) {\n                        break;\n                    }\n                    invokeTask(copyTasks[i], target, event);\n                }\n            }\n        }\n    };\n    function patchEventTargetMethods(obj, patchOptions) {\n        if (!obj) {\n            return false;\n        }\n        let useGlobalCallback = true;\n        if (patchOptions && patchOptions.useG !== undefined) {\n            useGlobalCallback = patchOptions.useG;\n        }\n        const validateHandler = patchOptions && patchOptions.vh;\n        let checkDuplicate = true;\n        if (patchOptions && patchOptions.chkDup !== undefined) {\n            checkDuplicate = patchOptions.chkDup;\n        }\n        let returnTarget = false;\n        if (patchOptions && patchOptions.rt !== undefined) {\n            returnTarget = patchOptions.rt;\n        }\n        let proto = obj;\n        while (proto && !proto.hasOwnProperty(ADD_EVENT_LISTENER)) {\n            proto = ObjectGetPrototypeOf(proto);\n        }\n        if (!proto && obj[ADD_EVENT_LISTENER]) {\n            // somehow we did not find it, but we can see it. This happens on IE for Window properties.\n            proto = obj;\n        }\n        if (!proto) {\n            return false;\n        }\n        if (proto[zoneSymbolAddEventListener]) {\n            return false;\n        }\n        const eventNameToString = patchOptions && patchOptions.eventNameToString;\n        // a shared global taskData to pass data for scheduleEventTask\n        // so we do not need to create a new object just for pass some data\n        const taskData = {};\n        const nativeAddEventListener = proto[zoneSymbolAddEventListener] = proto[ADD_EVENT_LISTENER];\n        const nativeRemoveEventListener = proto[zoneSymbol(REMOVE_EVENT_LISTENER)] =\n            proto[REMOVE_EVENT_LISTENER];\n        const nativeListeners = proto[zoneSymbol(LISTENERS_EVENT_LISTENER)] =\n            proto[LISTENERS_EVENT_LISTENER];\n        const nativeRemoveAllListeners = proto[zoneSymbol(REMOVE_ALL_LISTENERS_EVENT_LISTENER)] =\n            proto[REMOVE_ALL_LISTENERS_EVENT_LISTENER];\n        let nativePrependEventListener;\n        if (patchOptions && patchOptions.prepend) {\n            nativePrependEventListener = proto[zoneSymbol(patchOptions.prepend)] =\n                proto[patchOptions.prepend];\n        }\n        /**\n         * This util function will build an option object with passive option\n         * to handle all possible input from the user.\n         */\n        function buildEventListenerOptions(options, passive) {\n            if (!passiveSupported && typeof options === 'object' && options) {\n                // doesn't support passive but user want to pass an object as options.\n                // this will not work on some old browser, so we just pass a boolean\n                // as useCapture parameter\n                return !!options.capture;\n            }\n            if (!passiveSupported || !passive) {\n                return options;\n            }\n            if (typeof options === 'boolean') {\n                return { capture: options, passive: true };\n            }\n            if (!options) {\n                return { passive: true };\n            }\n            if (typeof options === 'object' && options.passive !== false) {\n                return Object.assign(Object.assign({}, options), { passive: true });\n            }\n            return options;\n        }\n        const customScheduleGlobal = function (task) {\n            // if there is already a task for the eventName + capture,\n            // just return, because we use the shared globalZoneAwareCallback here.\n            if (taskData.isExisting) {\n                return;\n            }\n            return nativeAddEventListener.call(taskData.target, taskData.eventName, taskData.capture ? globalZoneAwareCaptureCallback : globalZoneAwareCallback, taskData.options);\n        };\n        const customCancelGlobal = function (task) {\n            // if task is not marked as isRemoved, this call is directly\n            // from Zone.prototype.cancelTask, we should remove the task\n            // from tasksList of target first\n            if (!task.isRemoved) {\n                const symbolEventNames = zoneSymbolEventNames$1[task.eventName];\n                let symbolEventName;\n                if (symbolEventNames) {\n                    symbolEventName = symbolEventNames[task.capture ? TRUE_STR : FALSE_STR];\n                }\n                const existingTasks = symbolEventName && task.target[symbolEventName];\n                if (existingTasks) {\n                    for (let i = 0; i < existingTasks.length; i++) {\n                        const existingTask = existingTasks[i];\n                        if (existingTask === task) {\n                            existingTasks.splice(i, 1);\n                            // set isRemoved to data for faster invokeTask check\n                            task.isRemoved = true;\n                            if (existingTasks.length === 0) {\n                                // all tasks for the eventName + capture have gone,\n                                // remove globalZoneAwareCallback and remove the task cache from target\n                                task.allRemoved = true;\n                                task.target[symbolEventName] = null;\n                            }\n                            break;\n                        }\n                    }\n                }\n            }\n            // if all tasks for the eventName + capture have gone,\n            // we will really remove the global event callback,\n            // if not, return\n            if (!task.allRemoved) {\n                return;\n            }\n            return nativeRemoveEventListener.call(task.target, task.eventName, task.capture ? globalZoneAwareCaptureCallback : globalZoneAwareCallback, task.options);\n        };\n        const customScheduleNonGlobal = function (task) {\n            return nativeAddEventListener.call(taskData.target, taskData.eventName, task.invoke, taskData.options);\n        };\n        const customSchedulePrepend = function (task) {\n            return nativePrependEventListener.call(taskData.target, taskData.eventName, task.invoke, taskData.options);\n        };\n        const customCancelNonGlobal = function (task) {\n            return nativeRemoveEventListener.call(task.target, task.eventName, task.invoke, task.options);\n        };\n        const customSchedule = useGlobalCallback ? customScheduleGlobal : customScheduleNonGlobal;\n        const customCancel = useGlobalCallback ? customCancelGlobal : customCancelNonGlobal;\n        const compareTaskCallbackVsDelegate = function (task, delegate) {\n            const typeOfDelegate = typeof delegate;\n            return (typeOfDelegate === 'function' && task.callback === delegate) ||\n                (typeOfDelegate === 'object' && task.originalDelegate === delegate);\n        };\n        const compare = (patchOptions && patchOptions.diff) ? patchOptions.diff : compareTaskCallbackVsDelegate;\n        const unpatchedEvents = Zone[zoneSymbol('UNPATCHED_EVENTS')];\n        const passiveEvents = _global[zoneSymbol('PASSIVE_EVENTS')];\n        const makeAddListener = function (nativeListener, addSource, customScheduleFn, customCancelFn, returnTarget = false, prepend = false) {\n            return function () {\n                const target = this || _global;\n                let eventName = arguments[0];\n                if (patchOptions && patchOptions.transferEventName) {\n                    eventName = patchOptions.transferEventName(eventName);\n                }\n                let delegate = arguments[1];\n                if (!delegate) {\n                    return nativeListener.apply(this, arguments);\n                }\n                if (isNode && eventName === 'uncaughtException') {\n                    // don't patch uncaughtException of nodejs to prevent endless loop\n                    return nativeListener.apply(this, arguments);\n                }\n                // don't create the bind delegate function for handleEvent\n                // case here to improve addEventListener performance\n                // we will create the bind delegate when invoke\n                let isHandleEvent = false;\n                if (typeof delegate !== 'function') {\n                    if (!delegate.handleEvent) {\n                        return nativeListener.apply(this, arguments);\n                    }\n                    isHandleEvent = true;\n                }\n                if (validateHandler && !validateHandler(nativeListener, delegate, target, arguments)) {\n                    return;\n                }\n                const passive = passiveSupported && !!passiveEvents && passiveEvents.indexOf(eventName) !== -1;\n                const options = buildEventListenerOptions(arguments[2], passive);\n                if (unpatchedEvents) {\n                    // check upatched list\n                    for (let i = 0; i < unpatchedEvents.length; i++) {\n                        if (eventName === unpatchedEvents[i]) {\n                            if (passive) {\n                                return nativeListener.call(target, eventName, delegate, options);\n                            }\n                            else {\n                                return nativeListener.apply(this, arguments);\n                            }\n                        }\n                    }\n                }\n                const capture = !options ? false : typeof options === 'boolean' ? true : options.capture;\n                const once = options && typeof options === 'object' ? options.once : false;\n                const zone = Zone.current;\n                let symbolEventNames = zoneSymbolEventNames$1[eventName];\n                if (!symbolEventNames) {\n                    prepareEventNames(eventName, eventNameToString);\n                    symbolEventNames = zoneSymbolEventNames$1[eventName];\n                }\n                const symbolEventName = symbolEventNames[capture ? TRUE_STR : FALSE_STR];\n                let existingTasks = target[symbolEventName];\n                let isExisting = false;\n                if (existingTasks) {\n                    // already have task registered\n                    isExisting = true;\n                    if (checkDuplicate) {\n                        for (let i = 0; i < existingTasks.length; i++) {\n                            if (compare(existingTasks[i], delegate)) {\n                                // same callback, same capture, same event name, just return\n                                return;\n                            }\n                        }\n                    }\n                }\n                else {\n                    existingTasks = target[symbolEventName] = [];\n                }\n                let source;\n                const constructorName = target.constructor['name'];\n                const targetSource = globalSources[constructorName];\n                if (targetSource) {\n                    source = targetSource[eventName];\n                }\n                if (!source) {\n                    source = constructorName + addSource +\n                        (eventNameToString ? eventNameToString(eventName) : eventName);\n                }\n                // do not create a new object as task.data to pass those things\n                // just use the global shared one\n                taskData.options = options;\n                if (once) {\n                    // if addEventListener with once options, we don't pass it to\n                    // native addEventListener, instead we keep the once setting\n                    // and handle ourselves.\n                    taskData.options.once = false;\n                }\n                taskData.target = target;\n                taskData.capture = capture;\n                taskData.eventName = eventName;\n                taskData.isExisting = isExisting;\n                const data = useGlobalCallback ? OPTIMIZED_ZONE_EVENT_TASK_DATA : undefined;\n                // keep taskData into data to allow onScheduleEventTask to access the task information\n                if (data) {\n                    data.taskData = taskData;\n                }\n                const task = zone.scheduleEventTask(source, delegate, data, customScheduleFn, customCancelFn);\n                // should clear taskData.target to avoid memory leak\n                // issue, https://github.com/angular/angular/issues/20442\n                taskData.target = null;\n                // need to clear up taskData because it is a global object\n                if (data) {\n                    data.taskData = null;\n                }\n                // have to save those information to task in case\n                // application may call task.zone.cancelTask() directly\n                if (once) {\n                    options.once = true;\n                }\n                if (!(!passiveSupported && typeof task.options === 'boolean')) {\n                    // if not support passive, and we pass an option object\n                    // to addEventListener, we should save the options to task\n                    task.options = options;\n                }\n                task.target = target;\n                task.capture = capture;\n                task.eventName = eventName;\n                if (isHandleEvent) {\n                    // save original delegate for compare to check duplicate\n                    task.originalDelegate = delegate;\n                }\n                if (!prepend) {\n                    existingTasks.push(task);\n                }\n                else {\n                    existingTasks.unshift(task);\n                }\n                if (returnTarget) {\n                    return target;\n                }\n            };\n        };\n        proto[ADD_EVENT_LISTENER] = makeAddListener(nativeAddEventListener, ADD_EVENT_LISTENER_SOURCE, customSchedule, customCancel, returnTarget);\n        if (nativePrependEventListener) {\n            proto[PREPEND_EVENT_LISTENER] = makeAddListener(nativePrependEventListener, PREPEND_EVENT_LISTENER_SOURCE, customSchedulePrepend, customCancel, returnTarget, true);\n        }\n        proto[REMOVE_EVENT_LISTENER] = function () {\n            const target = this || _global;\n            let eventName = arguments[0];\n            if (patchOptions && patchOptions.transferEventName) {\n                eventName = patchOptions.transferEventName(eventName);\n            }\n            const options = arguments[2];\n            const capture = !options ? false : typeof options === 'boolean' ? true : options.capture;\n            const delegate = arguments[1];\n            if (!delegate) {\n                return nativeRemoveEventListener.apply(this, arguments);\n            }\n            if (validateHandler &&\n                !validateHandler(nativeRemoveEventListener, delegate, target, arguments)) {\n                return;\n            }\n            const symbolEventNames = zoneSymbolEventNames$1[eventName];\n            let symbolEventName;\n            if (symbolEventNames) {\n                symbolEventName = symbolEventNames[capture ? TRUE_STR : FALSE_STR];\n            }\n            const existingTasks = symbolEventName && target[symbolEventName];\n            if (existingTasks) {\n                for (let i = 0; i < existingTasks.length; i++) {\n                    const existingTask = existingTasks[i];\n                    if (compare(existingTask, delegate)) {\n                        existingTasks.splice(i, 1);\n                        // set isRemoved to data for faster invokeTask check\n                        existingTask.isRemoved = true;\n                        if (existingTasks.length === 0) {\n                            // all tasks for the eventName + capture have gone,\n                            // remove globalZoneAwareCallback and remove the task cache from target\n                            existingTask.allRemoved = true;\n                            target[symbolEventName] = null;\n                            // in the target, we have an event listener which is added by on_property\n                            // such as target.onclick = function() {}, so we need to clear this internal\n                            // property too if all delegates all removed\n                            if (typeof eventName === 'string') {\n                                const onPropertySymbol = ZONE_SYMBOL_PREFIX + 'ON_PROPERTY' + eventName;\n                                target[onPropertySymbol] = null;\n                            }\n                        }\n                        existingTask.zone.cancelTask(existingTask);\n                        if (returnTarget) {\n                            return target;\n                        }\n                        return;\n                    }\n                }\n            }\n            // issue 930, didn't find the event name or callback\n            // from zone kept existingTasks, the callback maybe\n            // added outside of zone, we need to call native removeEventListener\n            // to try to remove it.\n            return nativeRemoveEventListener.apply(this, arguments);\n        };\n        proto[LISTENERS_EVENT_LISTENER] = function () {\n            const target = this || _global;\n            let eventName = arguments[0];\n            if (patchOptions && patchOptions.transferEventName) {\n                eventName = patchOptions.transferEventName(eventName);\n            }\n            const listeners = [];\n            const tasks = findEventTasks(target, eventNameToString ? eventNameToString(eventName) : eventName);\n            for (let i = 0; i < tasks.length; i++) {\n                const task = tasks[i];\n                let delegate = task.originalDelegate ? task.originalDelegate : task.callback;\n                listeners.push(delegate);\n            }\n            return listeners;\n        };\n        proto[REMOVE_ALL_LISTENERS_EVENT_LISTENER] = function () {\n            const target = this || _global;\n            let eventName = arguments[0];\n            if (!eventName) {\n                const keys = Object.keys(target);\n                for (let i = 0; i < keys.length; i++) {\n                    const prop = keys[i];\n                    const match = EVENT_NAME_SYMBOL_REGX.exec(prop);\n                    let evtName = match && match[1];\n                    // in nodejs EventEmitter, removeListener event is\n                    // used for monitoring the removeListener call,\n                    // so just keep removeListener eventListener until\n                    // all other eventListeners are removed\n                    if (evtName && evtName !== 'removeListener') {\n                        this[REMOVE_ALL_LISTENERS_EVENT_LISTENER].call(this, evtName);\n                    }\n                }\n                // remove removeListener listener finally\n                this[REMOVE_ALL_LISTENERS_EVENT_LISTENER].call(this, 'removeListener');\n            }\n            else {\n                if (patchOptions && patchOptions.transferEventName) {\n                    eventName = patchOptions.transferEventName(eventName);\n                }\n                const symbolEventNames = zoneSymbolEventNames$1[eventName];\n                if (symbolEventNames) {\n                    const symbolEventName = symbolEventNames[FALSE_STR];\n                    const symbolCaptureEventName = symbolEventNames[TRUE_STR];\n                    const tasks = target[symbolEventName];\n                    const captureTasks = target[symbolCaptureEventName];\n                    if (tasks) {\n                        const removeTasks = tasks.slice();\n                        for (let i = 0; i < removeTasks.length; i++) {\n                            const task = removeTasks[i];\n                            let delegate = task.originalDelegate ? task.originalDelegate : task.callback;\n                            this[REMOVE_EVENT_LISTENER].call(this, eventName, delegate, task.options);\n                        }\n                    }\n                    if (captureTasks) {\n                        const removeTasks = captureTasks.slice();\n                        for (let i = 0; i < removeTasks.length; i++) {\n                            const task = removeTasks[i];\n                            let delegate = task.originalDelegate ? task.originalDelegate : task.callback;\n                            this[REMOVE_EVENT_LISTENER].call(this, eventName, delegate, task.options);\n                        }\n                    }\n                }\n            }\n            if (returnTarget) {\n                return this;\n            }\n        };\n        // for native toString patch\n        attachOriginToPatched(proto[ADD_EVENT_LISTENER], nativeAddEventListener);\n        attachOriginToPatched(proto[REMOVE_EVENT_LISTENER], nativeRemoveEventListener);\n        if (nativeRemoveAllListeners) {\n            attachOriginToPatched(proto[REMOVE_ALL_LISTENERS_EVENT_LISTENER], nativeRemoveAllListeners);\n        }\n        if (nativeListeners) {\n            attachOriginToPatched(proto[LISTENERS_EVENT_LISTENER], nativeListeners);\n        }\n        return true;\n    }\n    let results = [];\n    for (let i = 0; i < apis.length; i++) {\n        results[i] = patchEventTargetMethods(apis[i], patchOptions);\n    }\n    return results;\n}\nfunction findEventTasks(target, eventName) {\n    if (!eventName) {\n        const foundTasks = [];\n        for (let prop in target) {\n            const match = EVENT_NAME_SYMBOL_REGX.exec(prop);\n            let evtName = match && match[1];\n            if (evtName && (!eventName || evtName === eventName)) {\n                const tasks = target[prop];\n                if (tasks) {\n                    for (let i = 0; i < tasks.length; i++) {\n                        foundTasks.push(tasks[i]);\n                    }\n                }\n            }\n        }\n        return foundTasks;\n    }\n    let symbolEventName = zoneSymbolEventNames$1[eventName];\n    if (!symbolEventName) {\n        prepareEventNames(eventName);\n        symbolEventName = zoneSymbolEventNames$1[eventName];\n    }\n    const captureFalseTasks = target[symbolEventName[FALSE_STR]];\n    const captureTrueTasks = target[symbolEventName[TRUE_STR]];\n    if (!captureFalseTasks) {\n        return captureTrueTasks ? captureTrueTasks.slice() : [];\n    }\n    else {\n        return captureTrueTasks ? captureFalseTasks.concat(captureTrueTasks) :\n            captureFalseTasks.slice();\n    }\n}\nfunction patchEventPrototype(global, api) {\n    const Event = global['Event'];\n    if (Event && Event.prototype) {\n        api.patchMethod(Event.prototype, 'stopImmediatePropagation', (delegate) => function (self, args) {\n            self[IMMEDIATE_PROPAGATION_SYMBOL] = true;\n            // we need to call the native stopImmediatePropagation\n            // in case in some hybrid application, some part of\n            // application will be controlled by zone, some are not\n            delegate && delegate.apply(self, args);\n        });\n    }\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nfunction patchCallbacks(api, target, targetName, method, callbacks) {\n    const symbol = Zone.__symbol__(method);\n    if (target[symbol]) {\n        return;\n    }\n    const nativeDelegate = target[symbol] = target[method];\n    target[method] = function (name, opts, options) {\n        if (opts && opts.prototype) {\n            callbacks.forEach(function (callback) {\n                const source = `${targetName}.${method}::` + callback;\n                const prototype = opts.prototype;\n                if (prototype.hasOwnProperty(callback)) {\n                    const descriptor = api.ObjectGetOwnPropertyDescriptor(prototype, callback);\n                    if (descriptor && descriptor.value) {\n                        descriptor.value = api.wrapWithCurrentZone(descriptor.value, source);\n                        api._redefineProperty(opts.prototype, callback, descriptor);\n                    }\n                    else if (prototype[callback]) {\n                        prototype[callback] = api.wrapWithCurrentZone(prototype[callback], source);\n                    }\n                }\n                else if (prototype[callback]) {\n                    prototype[callback] = api.wrapWithCurrentZone(prototype[callback], source);\n                }\n            });\n        }\n        return nativeDelegate.call(target, name, opts, options);\n    };\n    api.attachOriginToPatched(target[method], nativeDelegate);\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nconst globalEventHandlersEventNames = [\n    'abort',\n    'animationcancel',\n    'animationend',\n    'animationiteration',\n    'auxclick',\n    'beforeinput',\n    'blur',\n    'cancel',\n    'canplay',\n    'canplaythrough',\n    'change',\n    'compositionstart',\n    'compositionupdate',\n    'compositionend',\n    'cuechange',\n    'click',\n    'close',\n    'contextmenu',\n    'curechange',\n    'dblclick',\n    'drag',\n    'dragend',\n    'dragenter',\n    'dragexit',\n    'dragleave',\n    'dragover',\n    'drop',\n    'durationchange',\n    'emptied',\n    'ended',\n    'error',\n    'focus',\n    'focusin',\n    'focusout',\n    'gotpointercapture',\n    'input',\n    'invalid',\n    'keydown',\n    'keypress',\n    'keyup',\n    'load',\n    'loadstart',\n    'loadeddata',\n    'loadedmetadata',\n    'lostpointercapture',\n    'mousedown',\n    'mouseenter',\n    'mouseleave',\n    'mousemove',\n    'mouseout',\n    'mouseover',\n    'mouseup',\n    'mousewheel',\n    'orientationchange',\n    'pause',\n    'play',\n    'playing',\n    'pointercancel',\n    'pointerdown',\n    'pointerenter',\n    'pointerleave',\n    'pointerlockchange',\n    'mozpointerlockchange',\n    'webkitpointerlockerchange',\n    'pointerlockerror',\n    'mozpointerlockerror',\n    'webkitpointerlockerror',\n    'pointermove',\n    'pointout',\n    'pointerover',\n    'pointerup',\n    'progress',\n    'ratechange',\n    'reset',\n    'resize',\n    'scroll',\n    'seeked',\n    'seeking',\n    'select',\n    'selectionchange',\n    'selectstart',\n    'show',\n    'sort',\n    'stalled',\n    'submit',\n    'suspend',\n    'timeupdate',\n    'volumechange',\n    'touchcancel',\n    'touchmove',\n    'touchstart',\n    'touchend',\n    'transitioncancel',\n    'transitionend',\n    'waiting',\n    'wheel'\n];\nconst documentEventNames = [\n    'afterscriptexecute', 'beforescriptexecute', 'DOMContentLoaded', 'freeze', 'fullscreenchange',\n    'mozfullscreenchange', 'webkitfullscreenchange', 'msfullscreenchange', 'fullscreenerror',\n    'mozfullscreenerror', 'webkitfullscreenerror', 'msfullscreenerror', 'readystatechange',\n    'visibilitychange', 'resume'\n];\nconst windowEventNames = [\n    'absolutedeviceorientation',\n    'afterinput',\n    'afterprint',\n    'appinstalled',\n    'beforeinstallprompt',\n    'beforeprint',\n    'beforeunload',\n    'devicelight',\n    'devicemotion',\n    'deviceorientation',\n    'deviceorientationabsolute',\n    'deviceproximity',\n    'hashchange',\n    'languagechange',\n    'message',\n    'mozbeforepaint',\n    'offline',\n    'online',\n    'paint',\n    'pageshow',\n    'pagehide',\n    'popstate',\n    'rejectionhandled',\n    'storage',\n    'unhandledrejection',\n    'unload',\n    'userproximity',\n    'vrdisplayconnected',\n    'vrdisplaydisconnected',\n    'vrdisplaypresentchange'\n];\nconst htmlElementEventNames = [\n    'beforecopy', 'beforecut', 'beforepaste', 'copy', 'cut', 'paste', 'dragstart', 'loadend',\n    'animationstart', 'search', 'transitionrun', 'transitionstart', 'webkitanimationend',\n    'webkitanimationiteration', 'webkitanimationstart', 'webkittransitionend'\n];\nconst mediaElementEventNames = ['encrypted', 'waitingforkey', 'msneedkey', 'mozinterruptbegin', 'mozinterruptend'];\nconst ieElementEventNames = [\n    'activate',\n    'afterupdate',\n    'ariarequest',\n    'beforeactivate',\n    'beforedeactivate',\n    'beforeeditfocus',\n    'beforeupdate',\n    'cellchange',\n    'controlselect',\n    'dataavailable',\n    'datasetchanged',\n    'datasetcomplete',\n    'errorupdate',\n    'filterchange',\n    'layoutcomplete',\n    'losecapture',\n    'move',\n    'moveend',\n    'movestart',\n    'propertychange',\n    'resizeend',\n    'resizestart',\n    'rowenter',\n    'rowexit',\n    'rowsdelete',\n    'rowsinserted',\n    'command',\n    'compassneedscalibration',\n    'deactivate',\n    'help',\n    'mscontentzoom',\n    'msmanipulationstatechanged',\n    'msgesturechange',\n    'msgesturedoubletap',\n    'msgestureend',\n    'msgesturehold',\n    'msgesturestart',\n    'msgesturetap',\n    'msgotpointercapture',\n    'msinertiastart',\n    'mslostpointercapture',\n    'mspointercancel',\n    'mspointerdown',\n    'mspointerenter',\n    'mspointerhover',\n    'mspointerleave',\n    'mspointermove',\n    'mspointerout',\n    'mspointerover',\n    'mspointerup',\n    'pointerout',\n    'mssitemodejumplistitemremoved',\n    'msthumbnailclick',\n    'stop',\n    'storagecommit'\n];\nconst webglEventNames = ['webglcontextrestored', 'webglcontextlost', 'webglcontextcreationerror'];\nconst formEventNames = ['autocomplete', 'autocompleteerror'];\nconst detailEventNames = ['toggle'];\nconst frameEventNames = ['load'];\nconst frameSetEventNames = ['blur', 'error', 'focus', 'load', 'resize', 'scroll', 'messageerror'];\nconst marqueeEventNames = ['bounce', 'finish', 'start'];\nconst XMLHttpRequestEventNames = [\n    'loadstart', 'progress', 'abort', 'error', 'load', 'progress', 'timeout', 'loadend',\n    'readystatechange'\n];\nconst IDBIndexEventNames = ['upgradeneeded', 'complete', 'abort', 'success', 'error', 'blocked', 'versionchange', 'close'];\nconst websocketEventNames = ['close', 'error', 'open', 'message'];\nconst workerEventNames = ['error', 'message'];\nconst eventNames = globalEventHandlersEventNames.concat(webglEventNames, formEventNames, detailEventNames, documentEventNames, windowEventNames, htmlElementEventNames, ieElementEventNames);\nfunction filterProperties(target, onProperties, ignoreProperties) {\n    if (!ignoreProperties || ignoreProperties.length === 0) {\n        return onProperties;\n    }\n    const tip = ignoreProperties.filter(ip => ip.target === target);\n    if (!tip || tip.length === 0) {\n        return onProperties;\n    }\n    const targetIgnoreProperties = tip[0].ignoreProperties;\n    return onProperties.filter(op => targetIgnoreProperties.indexOf(op) === -1);\n}\nfunction patchFilteredProperties(target, onProperties, ignoreProperties, prototype) {\n    // check whether target is available, sometimes target will be undefined\n    // because different browser or some 3rd party plugin.\n    if (!target) {\n        return;\n    }\n    const filteredProperties = filterProperties(target, onProperties, ignoreProperties);\n    patchOnProperties(target, filteredProperties, prototype);\n}\nfunction propertyDescriptorPatch(api, _global) {\n    if (isNode && !isMix) {\n        return;\n    }\n    if (Zone[api.symbol('patchEvents')]) {\n        // events are already been patched by legacy patch.\n        return;\n    }\n    const supportsWebSocket = typeof WebSocket !== 'undefined';\n    const ignoreProperties = _global['__Zone_ignore_on_properties'];\n    // for browsers that we can patch the descriptor:  Chrome & Firefox\n    if (isBrowser) {\n        const internalWindow = window;\n        const ignoreErrorProperties = isIE() ? [{ target: internalWindow, ignoreProperties: ['error'] }] : [];\n        // in IE/Edge, onProp not exist in window object, but in WindowPrototype\n        // so we need to pass WindowPrototype to check onProp exist or not\n        patchFilteredProperties(internalWindow, eventNames.concat(['messageerror']), ignoreProperties ? ignoreProperties.concat(ignoreErrorProperties) : ignoreProperties, ObjectGetPrototypeOf(internalWindow));\n        patchFilteredProperties(Document.prototype, eventNames, ignoreProperties);\n        if (typeof internalWindow['SVGElement'] !== 'undefined') {\n            patchFilteredProperties(internalWindow['SVGElement'].prototype, eventNames, ignoreProperties);\n        }\n        patchFilteredProperties(Element.prototype, eventNames, ignoreProperties);\n        patchFilteredProperties(HTMLElement.prototype, eventNames, ignoreProperties);\n        patchFilteredProperties(HTMLMediaElement.prototype, mediaElementEventNames, ignoreProperties);\n        patchFilteredProperties(HTMLFrameSetElement.prototype, windowEventNames.concat(frameSetEventNames), ignoreProperties);\n        patchFilteredProperties(HTMLBodyElement.prototype, windowEventNames.concat(frameSetEventNames), ignoreProperties);\n        patchFilteredProperties(HTMLFrameElement.prototype, frameEventNames, ignoreProperties);\n        patchFilteredProperties(HTMLIFrameElement.prototype, frameEventNames, ignoreProperties);\n        const HTMLMarqueeElement = internalWindow['HTMLMarqueeElement'];\n        if (HTMLMarqueeElement) {\n            patchFilteredProperties(HTMLMarqueeElement.prototype, marqueeEventNames, ignoreProperties);\n        }\n        const Worker = internalWindow['Worker'];\n        if (Worker) {\n            patchFilteredProperties(Worker.prototype, workerEventNames, ignoreProperties);\n        }\n    }\n    const XMLHttpRequest = _global['XMLHttpRequest'];\n    if (XMLHttpRequest) {\n        // XMLHttpRequest is not available in ServiceWorker, so we need to check here\n        patchFilteredProperties(XMLHttpRequest.prototype, XMLHttpRequestEventNames, ignoreProperties);\n    }\n    const XMLHttpRequestEventTarget = _global['XMLHttpRequestEventTarget'];\n    if (XMLHttpRequestEventTarget) {\n        patchFilteredProperties(XMLHttpRequestEventTarget && XMLHttpRequestEventTarget.prototype, XMLHttpRequestEventNames, ignoreProperties);\n    }\n    if (typeof IDBIndex !== 'undefined') {\n        patchFilteredProperties(IDBIndex.prototype, IDBIndexEventNames, ignoreProperties);\n        patchFilteredProperties(IDBRequest.prototype, IDBIndexEventNames, ignoreProperties);\n        patchFilteredProperties(IDBOpenDBRequest.prototype, IDBIndexEventNames, ignoreProperties);\n        patchFilteredProperties(IDBDatabase.prototype, IDBIndexEventNames, ignoreProperties);\n        patchFilteredProperties(IDBTransaction.prototype, IDBIndexEventNames, ignoreProperties);\n        patchFilteredProperties(IDBCursor.prototype, IDBIndexEventNames, ignoreProperties);\n    }\n    if (supportsWebSocket) {\n        patchFilteredProperties(WebSocket.prototype, websocketEventNames, ignoreProperties);\n    }\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nZone.__load_patch('util', (global, Zone, api) => {\n    api.patchOnProperties = patchOnProperties;\n    api.patchMethod = patchMethod;\n    api.bindArguments = bindArguments;\n    api.patchMacroTask = patchMacroTask;\n    // In earlier version of zone.js (<0.9.0), we use env name `__zone_symbol__BLACK_LISTED_EVENTS` to\n    // define which events will not be patched by `Zone.js`.\n    // In newer version (>=0.9.0), we change the env name to `__zone_symbol__UNPATCHED_EVENTS` to keep\n    // the name consistent with angular repo.\n    // The  `__zone_symbol__BLACK_LISTED_EVENTS` is deprecated, but it is still be supported for\n    // backwards compatibility.\n    const SYMBOL_BLACK_LISTED_EVENTS = Zone.__symbol__('BLACK_LISTED_EVENTS');\n    const SYMBOL_UNPATCHED_EVENTS = Zone.__symbol__('UNPATCHED_EVENTS');\n    if (global[SYMBOL_UNPATCHED_EVENTS]) {\n        global[SYMBOL_BLACK_LISTED_EVENTS] = global[SYMBOL_UNPATCHED_EVENTS];\n    }\n    if (global[SYMBOL_BLACK_LISTED_EVENTS]) {\n        Zone[SYMBOL_BLACK_LISTED_EVENTS] = Zone[SYMBOL_UNPATCHED_EVENTS] =\n            global[SYMBOL_BLACK_LISTED_EVENTS];\n    }\n    api.patchEventPrototype = patchEventPrototype;\n    api.patchEventTarget = patchEventTarget;\n    api.isIEOrEdge = isIEOrEdge;\n    api.ObjectDefineProperty = ObjectDefineProperty;\n    api.ObjectGetOwnPropertyDescriptor = ObjectGetOwnPropertyDescriptor;\n    api.ObjectCreate = ObjectCreate;\n    api.ArraySlice = ArraySlice;\n    api.patchClass = patchClass;\n    api.wrapWithCurrentZone = wrapWithCurrentZone;\n    api.filterProperties = filterProperties;\n    api.attachOriginToPatched = attachOriginToPatched;\n    api._redefineProperty = Object.defineProperty;\n    api.patchCallbacks = patchCallbacks;\n    api.getGlobalObjects = () => ({\n        globalSources,\n        zoneSymbolEventNames: zoneSymbolEventNames$1,\n        eventNames,\n        isBrowser,\n        isMix,\n        isNode,\n        TRUE_STR,\n        FALSE_STR,\n        ZONE_SYMBOL_PREFIX,\n        ADD_EVENT_LISTENER_STR,\n        REMOVE_EVENT_LISTENER_STR\n    });\n});\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nconst taskSymbol = zoneSymbol('zoneTask');\nfunction patchTimer(window, setName, cancelName, nameSuffix) {\n    let setNative = null;\n    let clearNative = null;\n    setName += nameSuffix;\n    cancelName += nameSuffix;\n    const tasksByHandleId = {};\n    function scheduleTask(task) {\n        const data = task.data;\n        data.args[0] = function () {\n            return task.invoke.apply(this, arguments);\n        };\n        data.handleId = setNative.apply(window, data.args);\n        return task;\n    }\n    function clearTask(task) {\n        return clearNative.call(window, task.data.handleId);\n    }\n    setNative =\n        patchMethod(window, setName, (delegate) => function (self, args) {\n            if (typeof args[0] === 'function') {\n                const options = {\n                    isPeriodic: nameSuffix === 'Interval',\n                    delay: (nameSuffix === 'Timeout' || nameSuffix === 'Interval') ? args[1] || 0 :\n                        undefined,\n                    args: args\n                };\n                const callback = args[0];\n                args[0] = function timer() {\n                    try {\n                        return callback.apply(this, arguments);\n                    }\n                    finally {\n                        // issue-934, task will be cancelled\n                        // even it is a periodic task such as\n                        // setInterval\n                        // https://github.com/angular/angular/issues/40387\n                        // Cleanup tasksByHandleId should be handled before scheduleTask\n                        // Since some zoneSpec may intercept and doesn't trigger\n                        // scheduleFn(scheduleTask) provided here.\n                        if (!(options.isPeriodic)) {\n                            if (typeof options.handleId === 'number') {\n                                // in non-nodejs env, we remove timerId\n                                // from local cache\n                                delete tasksByHandleId[options.handleId];\n                            }\n                            else if (options.handleId) {\n                                // Node returns complex objects as handleIds\n                                // we remove task reference from timer object\n                                options.handleId[taskSymbol] = null;\n                            }\n                        }\n                    }\n                };\n                const task = scheduleMacroTaskWithCurrentZone(setName, args[0], options, scheduleTask, clearTask);\n                if (!task) {\n                    return task;\n                }\n                // Node.js must additionally support the ref and unref functions.\n                const handle = task.data.handleId;\n                if (typeof handle === 'number') {\n                    // for non nodejs env, we save handleId: task\n                    // mapping in local cache for clearTimeout\n                    tasksByHandleId[handle] = task;\n                }\n                else if (handle) {\n                    // for nodejs env, we save task\n                    // reference in timerId Object for clearTimeout\n                    handle[taskSymbol] = task;\n                }\n                // check whether handle is null, because some polyfill or browser\n                // may return undefined from setTimeout/setInterval/setImmediate/requestAnimationFrame\n                if (handle && handle.ref && handle.unref && typeof handle.ref === 'function' &&\n                    typeof handle.unref === 'function') {\n                    task.ref = handle.ref.bind(handle);\n                    task.unref = handle.unref.bind(handle);\n                }\n                if (typeof handle === 'number' || handle) {\n                    return handle;\n                }\n                return task;\n            }\n            else {\n                // cause an error by calling it directly.\n                return delegate.apply(window, args);\n            }\n        });\n    clearNative =\n        patchMethod(window, cancelName, (delegate) => function (self, args) {\n            const id = args[0];\n            let task;\n            if (typeof id === 'number') {\n                // non nodejs env.\n                task = tasksByHandleId[id];\n            }\n            else {\n                // nodejs env.\n                task = id && id[taskSymbol];\n                // other environments.\n                if (!task) {\n                    task = id;\n                }\n            }\n            if (task && typeof task.type === 'string') {\n                if (task.state !== 'notScheduled' &&\n                    (task.cancelFn && task.data.isPeriodic || task.runCount === 0)) {\n                    if (typeof id === 'number') {\n                        delete tasksByHandleId[id];\n                    }\n                    else if (id) {\n                        id[taskSymbol] = null;\n                    }\n                    // Do not cancel already canceled functions\n                    task.zone.cancelTask(task);\n                }\n            }\n            else {\n                // cause an error by calling it directly.\n                delegate.apply(window, args);\n            }\n        });\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nfunction patchCustomElements(_global, api) {\n    const { isBrowser, isMix } = api.getGlobalObjects();\n    if ((!isBrowser && !isMix) || !_global['customElements'] || !('customElements' in _global)) {\n        return;\n    }\n    const callbacks = ['connectedCallback', 'disconnectedCallback', 'adoptedCallback', 'attributeChangedCallback'];\n    api.patchCallbacks(api, _global.customElements, 'customElements', 'define', callbacks);\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nfunction eventTargetPatch(_global, api) {\n    if (Zone[api.symbol('patchEventTarget')]) {\n        // EventTarget is already patched.\n        return;\n    }\n    const { eventNames, zoneSymbolEventNames, TRUE_STR, FALSE_STR, ZONE_SYMBOL_PREFIX } = api.getGlobalObjects();\n    //  predefine all __zone_symbol__ + eventName + true/false string\n    for (let i = 0; i < eventNames.length; i++) {\n        const eventName = eventNames[i];\n        const falseEventName = eventName + FALSE_STR;\n        const trueEventName = eventName + TRUE_STR;\n        const symbol = ZONE_SYMBOL_PREFIX + falseEventName;\n        const symbolCapture = ZONE_SYMBOL_PREFIX + trueEventName;\n        zoneSymbolEventNames[eventName] = {};\n        zoneSymbolEventNames[eventName][FALSE_STR] = symbol;\n        zoneSymbolEventNames[eventName][TRUE_STR] = symbolCapture;\n    }\n    const EVENT_TARGET = _global['EventTarget'];\n    if (!EVENT_TARGET || !EVENT_TARGET.prototype) {\n        return;\n    }\n    api.patchEventTarget(_global, [EVENT_TARGET && EVENT_TARGET.prototype]);\n    return true;\n}\nfunction patchEvent(global, api) {\n    api.patchEventPrototype(global, api);\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nZone.__load_patch('legacy', (global) => {\n    const legacyPatch = global[Zone.__symbol__('legacyPatch')];\n    if (legacyPatch) {\n        legacyPatch();\n    }\n});\nZone.__load_patch('queueMicrotask', (global, Zone, api) => {\n    api.patchMethod(global, 'queueMicrotask', delegate => {\n        return function (self, args) {\n            Zone.current.scheduleMicroTask('queueMicrotask', args[0]);\n        };\n    });\n});\nZone.__load_patch('timers', (global) => {\n    const set = 'set';\n    const clear = 'clear';\n    patchTimer(global, set, clear, 'Timeout');\n    patchTimer(global, set, clear, 'Interval');\n    patchTimer(global, set, clear, 'Immediate');\n});\nZone.__load_patch('requestAnimationFrame', (global) => {\n    patchTimer(global, 'request', 'cancel', 'AnimationFrame');\n    patchTimer(global, 'mozRequest', 'mozCancel', 'AnimationFrame');\n    patchTimer(global, 'webkitRequest', 'webkitCancel', 'AnimationFrame');\n});\nZone.__load_patch('blocking', (global, Zone) => {\n    const blockingMethods = ['alert', 'prompt', 'confirm'];\n    for (let i = 0; i < blockingMethods.length; i++) {\n        const name = blockingMethods[i];\n        patchMethod(global, name, (delegate, symbol, name) => {\n            return function (s, args) {\n                return Zone.current.run(delegate, global, args, name);\n            };\n        });\n    }\n});\nZone.__load_patch('EventTarget', (global, Zone, api) => {\n    patchEvent(global, api);\n    eventTargetPatch(global, api);\n    // patch XMLHttpRequestEventTarget's addEventListener/removeEventListener\n    const XMLHttpRequestEventTarget = global['XMLHttpRequestEventTarget'];\n    if (XMLHttpRequestEventTarget && XMLHttpRequestEventTarget.prototype) {\n        api.patchEventTarget(global, [XMLHttpRequestEventTarget.prototype]);\n    }\n});\nZone.__load_patch('MutationObserver', (global, Zone, api) => {\n    patchClass('MutationObserver');\n    patchClass('WebKitMutationObserver');\n});\nZone.__load_patch('IntersectionObserver', (global, Zone, api) => {\n    patchClass('IntersectionObserver');\n});\nZone.__load_patch('FileReader', (global, Zone, api) => {\n    patchClass('FileReader');\n});\nZone.__load_patch('on_property', (global, Zone, api) => {\n    propertyDescriptorPatch(api, global);\n});\nZone.__load_patch('customElements', (global, Zone, api) => {\n    patchCustomElements(global, api);\n});\nZone.__load_patch('XHR', (global, Zone) => {\n    // Treat XMLHttpRequest as a macrotask.\n    patchXHR(global);\n    const XHR_TASK = zoneSymbol('xhrTask');\n    const XHR_SYNC = zoneSymbol('xhrSync');\n    const XHR_LISTENER = zoneSymbol('xhrListener');\n    const XHR_SCHEDULED = zoneSymbol('xhrScheduled');\n    const XHR_URL = zoneSymbol('xhrURL');\n    const XHR_ERROR_BEFORE_SCHEDULED = zoneSymbol('xhrErrorBeforeScheduled');\n    function patchXHR(window) {\n        const XMLHttpRequest = window['XMLHttpRequest'];\n        if (!XMLHttpRequest) {\n            // XMLHttpRequest is not available in service worker\n            return;\n        }\n        const XMLHttpRequestPrototype = XMLHttpRequest.prototype;\n        function findPendingTask(target) {\n            return target[XHR_TASK];\n        }\n        let oriAddListener = XMLHttpRequestPrototype[ZONE_SYMBOL_ADD_EVENT_LISTENER];\n        let oriRemoveListener = XMLHttpRequestPrototype[ZONE_SYMBOL_REMOVE_EVENT_LISTENER];\n        if (!oriAddListener) {\n            const XMLHttpRequestEventTarget = window['XMLHttpRequestEventTarget'];\n            if (XMLHttpRequestEventTarget) {\n                const XMLHttpRequestEventTargetPrototype = XMLHttpRequestEventTarget.prototype;\n                oriAddListener = XMLHttpRequestEventTargetPrototype[ZONE_SYMBOL_ADD_EVENT_LISTENER];\n                oriRemoveListener = XMLHttpRequestEventTargetPrototype[ZONE_SYMBOL_REMOVE_EVENT_LISTENER];\n            }\n        }\n        const READY_STATE_CHANGE = 'readystatechange';\n        const SCHEDULED = 'scheduled';\n        function scheduleTask(task) {\n            const data = task.data;\n            const target = data.target;\n            target[XHR_SCHEDULED] = false;\n            target[XHR_ERROR_BEFORE_SCHEDULED] = false;\n            // remove existing event listener\n            const listener = target[XHR_LISTENER];\n            if (!oriAddListener) {\n                oriAddListener = target[ZONE_SYMBOL_ADD_EVENT_LISTENER];\n                oriRemoveListener = target[ZONE_SYMBOL_REMOVE_EVENT_LISTENER];\n            }\n            if (listener) {\n                oriRemoveListener.call(target, READY_STATE_CHANGE, listener);\n            }\n            const newListener = target[XHR_LISTENER] = () => {\n                if (target.readyState === target.DONE) {\n                    // sometimes on some browsers XMLHttpRequest will fire onreadystatechange with\n                    // readyState=4 multiple times, so we need to check task state here\n                    if (!data.aborted && target[XHR_SCHEDULED] && task.state === SCHEDULED) {\n                        // check whether the xhr has registered onload listener\n                        // if that is the case, the task should invoke after all\n                        // onload listeners finish.\n                        // Also if the request failed without response (status = 0), the load event handler\n                        // will not be triggered, in that case, we should also invoke the placeholder callback\n                        // to close the XMLHttpRequest::send macroTask.\n                        // https://github.com/angular/angular/issues/38795\n                        const loadTasks = target[Zone.__symbol__('loadfalse')];\n                        if (target.status !== 0 && loadTasks && loadTasks.length > 0) {\n                            const oriInvoke = task.invoke;\n                            task.invoke = function () {\n                                // need to load the tasks again, because in other\n                                // load listener, they may remove themselves\n                                const loadTasks = target[Zone.__symbol__('loadfalse')];\n                                for (let i = 0; i < loadTasks.length; i++) {\n                                    if (loadTasks[i] === task) {\n                                        loadTasks.splice(i, 1);\n                                    }\n                                }\n                                if (!data.aborted && task.state === SCHEDULED) {\n                                    oriInvoke.call(task);\n                                }\n                            };\n                            loadTasks.push(task);\n                        }\n                        else {\n                            task.invoke();\n                        }\n                    }\n                    else if (!data.aborted && target[XHR_SCHEDULED] === false) {\n                        // error occurs when xhr.send()\n                        target[XHR_ERROR_BEFORE_SCHEDULED] = true;\n                    }\n                }\n            };\n            oriAddListener.call(target, READY_STATE_CHANGE, newListener);\n            const storedTask = target[XHR_TASK];\n            if (!storedTask) {\n                target[XHR_TASK] = task;\n            }\n            sendNative.apply(target, data.args);\n            target[XHR_SCHEDULED] = true;\n            return task;\n        }\n        function placeholderCallback() { }\n        function clearTask(task) {\n            const data = task.data;\n            // Note - ideally, we would call data.target.removeEventListener here, but it's too late\n            // to prevent it from firing. So instead, we store info for the event listener.\n            data.aborted = true;\n            return abortNative.apply(data.target, data.args);\n        }\n        const openNative = patchMethod(XMLHttpRequestPrototype, 'open', () => function (self, args) {\n            self[XHR_SYNC] = args[2] == false;\n            self[XHR_URL] = args[1];\n            return openNative.apply(self, args);\n        });\n        const XMLHTTPREQUEST_SOURCE = 'XMLHttpRequest.send';\n        const fetchTaskAborting = zoneSymbol('fetchTaskAborting');\n        const fetchTaskScheduling = zoneSymbol('fetchTaskScheduling');\n        const sendNative = patchMethod(XMLHttpRequestPrototype, 'send', () => function (self, args) {\n            if (Zone.current[fetchTaskScheduling] === true) {\n                // a fetch is scheduling, so we are using xhr to polyfill fetch\n                // and because we already schedule macroTask for fetch, we should\n                // not schedule a macroTask for xhr again\n                return sendNative.apply(self, args);\n            }\n            if (self[XHR_SYNC]) {\n                // if the XHR is sync there is no task to schedule, just execute the code.\n                return sendNative.apply(self, args);\n            }\n            else {\n                const options = { target: self, url: self[XHR_URL], isPeriodic: false, args: args, aborted: false };\n                const task = scheduleMacroTaskWithCurrentZone(XMLHTTPREQUEST_SOURCE, placeholderCallback, options, scheduleTask, clearTask);\n                if (self && self[XHR_ERROR_BEFORE_SCHEDULED] === true && !options.aborted &&\n                    task.state === SCHEDULED) {\n                    // xhr request throw error when send\n                    // we should invoke task instead of leaving a scheduled\n                    // pending macroTask\n                    task.invoke();\n                }\n            }\n        });\n        const abortNative = patchMethod(XMLHttpRequestPrototype, 'abort', () => function (self, args) {\n            const task = findPendingTask(self);\n            if (task && typeof task.type == 'string') {\n                // If the XHR has already completed, do nothing.\n                // If the XHR has already been aborted, do nothing.\n                // Fix #569, call abort multiple times before done will cause\n                // macroTask task count be negative number\n                if (task.cancelFn == null || (task.data && task.data.aborted)) {\n                    return;\n                }\n                task.zone.cancelTask(task);\n            }\n            else if (Zone.current[fetchTaskAborting] === true) {\n                // the abort is called from fetch polyfill, we need to call native abort of XHR.\n                return abortNative.apply(self, args);\n            }\n            // Otherwise, we are trying to abort an XHR which has not yet been sent, so there is no\n            // task\n            // to cancel. Do nothing.\n        });\n    }\n});\nZone.__load_patch('geolocation', (global) => {\n    /// GEO_LOCATION\n    if (global['navigator'] && global['navigator'].geolocation) {\n        patchPrototype(global['navigator'].geolocation, ['getCurrentPosition', 'watchPosition']);\n    }\n});\nZone.__load_patch('PromiseRejectionEvent', (global, Zone) => {\n    // handle unhandled promise rejection\n    function findPromiseRejectionHandler(evtName) {\n        return function (e) {\n            const eventTasks = findEventTasks(global, evtName);\n            eventTasks.forEach(eventTask => {\n                // windows has added unhandledrejection event listener\n                // trigger the event listener\n                const PromiseRejectionEvent = global['PromiseRejectionEvent'];\n                if (PromiseRejectionEvent) {\n                    const evt = new PromiseRejectionEvent(evtName, { promise: e.promise, reason: e.rejection });\n                    eventTask.invoke(evt);\n                }\n            });\n        };\n    }\n    if (global['PromiseRejectionEvent']) {\n        Zone[zoneSymbol('unhandledPromiseRejectionHandler')] =\n            findPromiseRejectionHandler('unhandledrejection');\n        Zone[zoneSymbol('rejectionHandledHandler')] =\n            findPromiseRejectionHandler('rejectionhandled');\n    }\n});\n"],"sourceRoot":"webpack:///"}